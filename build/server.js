module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=36)}([function(e,t){e.exports=require("recharts")},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-icons/ri")},function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("ethers")},function(e,t){e.exports=require("@apollo/client")},function(e,t,n){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("classnames")},function(e,t){e.exports=require("cross-fetch")},function(e,t){e.exports=require("strftime")},function(e,t,n){e.exports=n.p+"static/media/anzor-logo.078fe1a9.png"},function(e,t){e.exports=require("framer-motion")},function(e,t){e.exports=require("moment")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("object-sizeof")},function(e,t){e.exports=require("chalk")},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("console-log-level")},function(e){e.exports=JSON.parse('{"_format":"hh-sol-artifact-1","contractName":"RewardReader","sourceName":"contracts/peripherals/RewardReader.sol","abi":[{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"address[]","name":"_depositTokens","type":"address[]"},{"internalType":"address[]","name":"_rewardTrackers","type":"address[]"}],"name":"getDepositBalances","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"address[]","name":"_rewardTrackers","type":"address[]"}],"name":"getStakingInfo","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"address[]","name":"_vesters","type":"address[]"}],"name":"getVestingInfoV2","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"}]}')},function(e){e.exports=JSON.parse('{"_format":"hh-sol-artifact-1","contractName":"MjlpManager","sourceName":"contracts/core/MjlpManager.sol","abi":[{"inputs":[{"internalType":"address","name":"_vault","type":"address"},{"internalType":"address","name":"_usdm","type":"address"},{"internalType":"address","name":"_mjlp","type":"address"},{"internalType":"uint256","name":"_cooldownDuration","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"aumInUsdm","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"mjlpSupply","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"usdmAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"mintAmount","type":"uint256"}],"name":"AddLiquidity","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"mjlpAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"aumInUsdm","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"mjlpSupply","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"usdmAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amountOut","type":"uint256"}],"name":"RemoveLiquidity","type":"event"},{"inputs":[],"name":"MAX_COOLDOWN_DURATION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"PRICE_PRECISION","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"USDM_DECIMALS","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"uint256","name":"_minUsdm","type":"uint256"},{"internalType":"uint256","name":"_minMjlp","type":"uint256"}],"name":"addLiquidity","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_fundingAccount","type":"address"},{"internalType":"address","name":"_account","type":"address"},{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"},{"internalType":"uint256","name":"_minUsdm","type":"uint256"},{"internalType":"uint256","name":"_minMjlp","type":"uint256"}],"name":"addLiquidityForAccount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"aumAddition","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"aumDeduction","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"cooldownDuration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"maximise","type":"bool"}],"name":"getAum","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"maximise","type":"bool"}],"name":"getAumInUsdm","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getAums","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"gov","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"inPrivateMode","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isHandler","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"lastAddedAt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"mjlp","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_tokenOut","type":"address"},{"internalType":"uint256","name":"_mjlpAmount","type":"uint256"},{"internalType":"uint256","name":"_minOut","type":"uint256"},{"internalType":"address","name":"_receiver","type":"address"}],"name":"removeLiquidity","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"address","name":"_tokenOut","type":"address"},{"internalType":"uint256","name":"_mjlpAmount","type":"uint256"},{"internalType":"uint256","name":"_minOut","type":"uint256"},{"internalType":"address","name":"_receiver","type":"address"}],"name":"removeLiquidityForAccount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_aumAddition","type":"uint256"},{"internalType":"uint256","name":"_aumDeduction","type":"uint256"}],"name":"setAumAdjustment","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_cooldownDuration","type":"uint256"}],"name":"setCooldownDuration","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_gov","type":"address"}],"name":"setGov","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_handler","type":"address"},{"internalType":"bool","name":"_isActive","type":"bool"}],"name":"setHandler","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_inPrivateMode","type":"bool"}],"name":"setInPrivateMode","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"usdm","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"vault","outputs":[{"internalType":"contract IVault","name":"","type":"address"}],"stateMutability":"view","type":"function"}]}')},function(e){e.exports=JSON.parse('{"_format":"hh-sol-artifact-1","contractName":"Token","sourceName":"contracts/tokens/Token.sol","abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"deposit","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"withdrawToken","outputs":[],"stateMutability":"nonpayable","type":"function"}]}')},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){s=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var t=r(e,4),n=t[1],a=t[3];if(!a)return n;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),s="/*# ".concat(o," */"),l=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[n].concat(l).concat([s]).join("\n")}return[n].join("\n")}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(a[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&a[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){e.exports=n.p+"static/media/Philosopher-BoldItalic.fa16e091.ttf"},function(e,t,n){e.exports=n.p+"static/media/Philosopher-Italic.b9e3037c.ttf"},function(e,t,n){e.exports=n.p+"static/media/Philosopher-Regular.af6ea627.ttf"},function(e,t,n){e.exports=n.p+"static/media/Philosopher-Bold.a3aed8ba.ttf"},function(e,t,n){e.exports=n.p+"static/media/Comfortaa-Regular.26795cfa.ttf"},function(e,t,n){e.exports=n.p+"static/media/Comfortaa-Bold.2df2dd0e.ttf"},function(e,t,n){e.exports=n.p+"static/media/Comfortaa-SemiBold.170d22d9.ttf"},function(e,t,n){e.exports=n.p+"static/media/Comfortaa-Light.a32b6e45.ttf"},function(e,t,n){e.exports=n.p+"static/media/Comfortaa-Medium.cca5f204.ttf"},function(e,t){e.exports=require("react-icons/fa")},function(e,t){e.exports=require("react-icons/fi")},function(e,t,n){e.exports=n(37)},function(e,t,n){"use strict";n.r(t);var r=n(17);let a=n(41).default;r.createServer(a).listen(3e3,e=>function(e,t){e?console.error(e):console.log("> Started server on port "+t)}(e,3e3))},function(e,t,n){"use strict";var r=n(23),a=n.n(r),i=n(24),o=n.n(i),s=n(6),l=n.n(s),c=n(25),p=n.n(c),d=n(26),m=n.n(d),u=n(27),A=n.n(u),f=n(28),y=n.n(f),h=n(29),C=n.n(h),g=n(30),v=n.n(g),b=n(31),E=n.n(b),B=n(32),k=n.n(B),x=n(33),w=n.n(x),F=o()(a.a),j=l()(p.a),T=l()(m.a),D=l()(A.a),S=l()(y.a),M=l()(C.a),P=l()(v.a),O=l()(E.a),I=l()(k.a),L=l()(w.a);F.push([e.i,"@font-face {\r\n  font-family: 'Philosopher';\r\n  src: url("+j+") format('truetype');\r\n  font-weight: bold;\r\n  font-style: italic;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Philosopher';\r\n  src: url("+T+") format('truetype');\r\n  font-weight: normal;\r\n  font-style: italic;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Philosopher';\r\n  src: url("+D+") format('truetype');\r\n  font-weight: normal;\r\n  font-style: normal;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Philosopher';\r\n  src: url("+S+") format('truetype');\r\n  font-weight: bold;\r\n  font-style: normal;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Comfortaa';\r\n  src: url("+M+") format('truetype');\r\n  font-weight: normal;\r\n  font-style: normal;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Comfortaa';\r\n  src: url("+P+") format('truetype');\r\n  font-weight: bold;\r\n  font-style: normal;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Comfortaa';\r\n  src: url("+O+") format('truetype');\r\n  font-weight: 600;\r\n  font-style: normal;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Comfortaa';\r\n  src: url("+I+") format('truetype');\r\n  font-weight: 300;\r\n  font-style: normal;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Comfortaa';\r\n  src: url("+L+") format('truetype');\r\n  font-weight: 500;\r\n  font-style: normal;\r\n  font-display: swap;\r\n}\r\n\r\nbody {\r\n  font-size: 0.9rem;\r\n  /* background: #f6f9ff; */\r\n  margin: 0;\r\n  padding: 0;\r\n  font-family: 'Comfortaa', sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n}\r\n\r\n.recharts-wrapper {\r\n  font-size: 0.8rem;\r\n  font-family: 'Comfortaa', monospace;\r\n}\r\n\r\n.recharts-legend-item-text {\r\n  display: inline-block;\r\n  max-width: 150px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  vertical-align: middle;\r\n}\r\n\r\n.App {\r\n  color: #000;\r\n  background: #fcfcfc;\r\n  line-height: 1.15;\r\n  padding: 1rem;\r\n  padding-top: 0;\r\n}\r\n\r\n.App.dark {\r\n  background: #000000;\r\n  color: #FFF;\r\n  line-height: 1.15;\r\n  box-sizing: border-box;\r\n  min-height: 100vh;\r\n}\r\n\r\nh3, h2 {\r\n  color: #444;\r\n  margin: 1rem 0 1.5rem;\r\n}\r\n\r\n.App.dark h3, .App.dark h2 {\r\n  color: white;\r\n}\r\n\r\nh3 {\r\n  margin: 1rem 0;\r\n  font-weight: normal;\r\n  font-size: 1.2rem;\r\n}\r\n\r\nh2 {\r\n  font-size: 1.6rem;\r\n  font-weight: normal\r\n}\r\n\r\nlabel {\r\n  cursor: pointer;\r\n}\r\n\r\ninput + label,\r\nlabel + input {\r\n  margin-left: 0.5rem;\r\n}\r\n\r\n.chart-subtitle, .stats {\r\n  margin: 1.5rem 0 1rem;\r\n}\r\n\r\n.chart-description {\r\n  margin: 1rem 0 0;\r\n  max-width: 600px;\r\n  /* color: #ffffff; */\r\n}\r\n\r\n.App.dark .chart-description {\r\n  color: #ffffff;\r\n}\r\n\r\n.chart-description p:first-child {\r\n  margin-top: 0;\r\n}\r\n\r\n.chart-description p:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.chart-description ul {\r\n  margin: 0;\r\n  padding-left: 20px;\r\n}\r\n\r\n.chart-description li {\r\n  margin-top: 5px;\r\n}\r\n\r\n.chart-grid {\r\n  color: #16182E;\r\n  display: grid;\r\n  grid-template-columns: repeat(10, 1fr);\r\n  gap: 1rem;\r\n  margin-top: 1rem;\r\n}\r\n\r\n.chart-grid-subtitle {\r\n  grid-column-start: 1;\r\n  grid-column-end: 9;\r\n  margin-bottom: 0;\r\n  margin-top: 2rem;\r\n}\r\n\r\n.total-stat-value {\r\n  font-size: 1.5rem;\r\n  overflow: hidden;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n.total-stat-delta {\r\n  font-size: 0.875rem;\r\n  line-height: 1.125rem;\r\n  display: block;\r\n}\r\n\r\n.total-stat-delta.plus {\r\n  color: #46E3AE;\r\n}\r\n.App.light .total-stat-delta.plus {\r\n  color: rgb(34 199 97);\r\n}\r\n.total-stat-delta.minus {\r\n  color: #727171;\r\n}\r\n\r\n.App.dark .chart-cell {\r\n  /* background: #181818; */\r\n  border: none;\r\n  color: white;\r\n}\r\n\r\n.App.dark .chart-cell.stats {\r\n  /* border: 1px solid #FFFFFF14; */\r\n}\r\n\r\n.chart-cell {\r\n  margin: 0;\r\n  border-radius: 12px;\r\n  background: #131313;\r\n  position: relative;\r\n  padding: 1rem;\r\n  grid-column-start: span 5;\r\n}\r\n\r\n.chart-cell.stats {\r\n  min-height: 60px;\r\n  grid-column-start: span 2;\r\n  text-align: center;\r\n}\r\n\r\n.chart-cell.experiment {\r\n  border-color: #fbb;\r\n}\r\n.chart-cell.experiment:after {\r\n  color: #f55;\r\n  top: 1rem;\r\n  right: 1rem;\r\n  position: absolute;\r\n  content: '(experimental)';\r\n}\r\n\r\n.chart-cell h3 {\r\n  margin-top: 0;\r\n  letter-spacing: 0px;\r\n  font-size: 1.125rem;\r\n  line-height: 1.4375rem;\r\n}\r\n\r\n.chart-cell .csv-link {\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  margin-left: 0.3rem;\r\n  opacity: 0.5;\r\n  display: inline-flex;\r\n  vertical-align: middle;\r\n}\r\n.chart-cell:hover .csv-link {\r\n  opacity: 0.5;\r\n}\r\n.chart-cell .csv-link:hover {\r\n  opacity: 1;\r\n}\r\n\r\n.form input[type=\"date\"],\r\n.form input[type=\"text\"] {\r\n  border: 1px solid #aaa;\r\n  border-radius: 3px;\r\n  appearance: none !important;\r\n  box-sizing: border-box;\r\n  padding: 3px;\r\n}\r\n\r\n.form button {\r\n  border: none;\r\n  appearance: none !important;\r\n  color: #000;\r\n  border: 1px solid #FFFFFF0F;\r\n  box-sizing: border-box;\r\n  background: #b39a31;\r\n  cursor: pointer;\r\n  margin-left: 10px;\r\n  height: 28px;\r\n  border-radius: 3px;\r\n  padding: 3px 7px;\r\n}\r\n.form button:hover {\r\n  opacity: 0.9;\r\n}\r\n\r\n@keyframes loader {\r\n  from {\r\n    transform: rotate(0);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.loader {\r\n  animation: loader 1.5s infinite;\r\n  opacity: 0.3;\r\n}\r\n.chart-cell .loader {\r\n  position: absolute;\r\n  margin-left: -1.5em;\r\n  margin-top: -1.5em;\r\n  font-size: 0.7rem;\r\n  top: 50%;\r\n  left: 50%;\r\n  z-index: 2;\r\n}\r\n\r\n\r\n.warning, .warning a {\r\n  color: #d85a5a;\r\n}\r\n\r\n.nav {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin: 0 -1rem 0;\r\n  height: 55px;\r\n  padding-left: 1rem;\r\n  padding-right: 1rem;\r\n  border-bottom: 1px solid #ffffff;\r\n  background-color: white;\r\n}\r\n\r\n.App.dark .nav {\r\n  background: #000000;\r\n  border-bottom: 1px solid #FFFFFF29;\r\n}\r\n\r\n.nav-logo {\r\n  /* width: 87px; */\r\n  vertical-align: middle;\r\n  margin: 0px 0.5rem 0 0;\r\n  display: inline-flex;\r\n  font-family: 'Philosopher';\r\n  /* letter-spacing: 3px; */\r\n  font-weight: bold;\r\n}\r\n\r\n.nav-logo img {\r\n  width: 87px;\r\n}\r\n\r\na, a:active, a:visited {\r\n  color: #16182E;\r\n}\r\n\r\n.nav-link {\r\n  letter-spacing: 0.47px;\r\n  color: #ffffff;\r\n  /* color: #000; */\r\n  text-decoration: none;\r\n  padding: 0.5rem 1rem;\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  font-size: 15px;\r\n  line-height: 1.125rem;\r\n  letter-spacing: 0.47px;\r\n}\r\n\r\n.nav-link:active, .nav-link:visited {\r\n  color: #ffffff;\r\n}\r\n\r\n.nav-link.active {\r\n  color: #444;\r\n}\r\n\r\n.App.dark a, .App.dark a:active, .App.dark a:visited {\r\n  color: #FFFFFF;\r\n}\r\n\r\n.App.dark .nav-link {\r\n  color: #ffffff;\r\n}\r\n\r\n.App.dark .nav-link:active, .App.dark .nav-link:visited {\r\n  color: #ffffff;\r\n}\r\n\r\n.App.dark .nav-link.active {\r\n  color: white;\r\n}\r\n\r\n.App.dark .nav-link:hover {\r\n  color: white;\r\n}\r\n\r\n.nav-link:hover {\r\n  color: #444;\r\n}\r\n\r\n.nav-right {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.modeselect {\r\n  width: 30px;\r\n  height: 26px;\r\n  background: #16182E 0% 0% no-repeat padding-box;\r\n  border: 1px solid #FFFFFF0F;\r\n  border-radius: 4px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.App.dark .modeselect {\r\n  background: #FFFFFF 0% 0% no-repeat padding-box;\r\n}\r\n\r\n.modeselect svg {\r\n  fill: #ffffff;\r\n}\r\n\r\n.App.dark .modeselect svg {\r\n  fill: #FFFFFF0F;\r\n}\r\n\r\n.page-title {\r\n  font-size: 1.8125rem;\r\n  line-height: 2.3125rem;\r\n}\r\n\r\n.recharts-cartesian-axis-tick-value {\r\n  font-size: 0.75rem;\r\n}\r\n\r\n.App.dark .recharts-cartesian-axis-tick-value {\r\n  fill: #fff;\r\n  font-size: 0.75rem;\r\n}\r\n\r\n.App.dark .recharts-cartesian-grid-horizontal line, .App.dark .recharts-cartesian-grid-vertical line {\r\n  stroke: #FFFFFF0F;\r\n}\r\n\r\n.recharts-tooltip-wrapper .recharts-default-tooltip {\r\n  padding: 5px 12px!important;\r\n}\r\n\r\n.recharts-tooltip-wrapper ul.recharts-tooltip-item-list li {\r\n  padding: 0px!important;\r\n  font-size: 12px!important;\r\n  line-height: 15px!important;\r\n}\r\n\r\n.recharts-tooltip-wrapper ul.recharts-tooltip-item-list li + li {\r\n  margin-top: 1px!important;\r\n}\r\n\r\n.App.dark .recharts-tooltip-wrapper .recharts-default-tooltip {\r\n  background-color: #00000029!important;\r\n  box-shadow: 0px 3px 6px #0000005C;\r\n  border: 1px solid #484B6E!important;\r\n  border-radius: 4px;\r\n}\r\n\r\n.App-header-drawer {\r\n  background: #000000 0% 0% no-repeat padding-box;\r\n  box-shadow: 8px 3px 6px #00000029;\r\n  opacity: 1;\r\n  backdrop-filter: blur(27px);\r\n  position: fixed;\r\n  z-index: 11;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  height: 100vh;\r\n  width: 304px;\r\n}\r\n\r\n.App-header-drawer .App-header-link-container a {\r\n  font-size: 14px;\r\n  line-height: 18px;\r\n  font-weight: normal;\r\n  letter-spacing: 0.1px;\r\n  color: #ffffff;\r\n  padding: 15px 16px;\r\n  text-decoration: none;\r\n  display: block;\r\n}\r\n\r\n.App-header-drawer .App-header-link-container a:hover,\r\n.App-header-drawer .App-header-link-container a:focus,\r\n.App-header-drawer .App-header-link-container a.active {\r\n  background: #181818;\r\n  color: white;\r\n}\r\n\r\n.App-header-drawer .App-header-menu-icon {\r\n  color: white;\r\n  margin: unset;\r\n  font-size: 2rem;\r\n}\r\n\r\n.App-header-drawer .App-header-link-main {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.App-header-links-header {\r\n  height: 62px;\r\n  display: flex;\r\n  align-items: center;\r\n  z-index: 3;\r\n  padding-left: 1rem;\r\n  padding-right: 1rem;\r\n}\r\n\r\n.App-header-menu-icon {\r\n  color: black;\r\n  font-size: 1.3rem;\r\n  cursor: pointer;\r\n  opacity: 0.7;\r\n  margin: 9px 10px;\r\n}\r\n\r\n.App.dark .App-header-menu-icon {\r\n  color: white;\r\n}\r\n\r\n.App-header-menu-icon:hover {\r\n  opacity: 0.9;\r\n}\r\n\r\n@media all and (max-width: 1000px) {\r\n  .chart-grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n\r\n  .chart-cell {\r\n    grid-column-start: span 2;\r\n    grid-column-end: auto;\r\n  }\r\n  .chart-cell.stats {\r\n    grid-column-start: span 1;\r\n  }\r\n}\r\n\r\n.content {\r\n  margin-top: 1rem;\r\n}\r\n\r\n.App-header-menu-icon-block {\r\n  display: none;\r\n}\r\n\r\n.App-header-backdrop {\r\n  position: fixed;\r\n  z-index: 10;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n\r\n@media all and (max-width: 600px) {\r\n  .chart-grid {\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .chart-cell {\r\n    grid-column-start: unset!important;\r\n    grid-column-end: unset!important;\r\n  }\r\n\r\n  .App-header-menu-icon-block {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-right: 0.5rem;\r\n  }\r\n\r\n  .nav-left {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .nav-logo {\r\n    display: flex;\r\n  }\r\n\r\n  .nav-left .nav-link {\r\n    display: none;\r\n  }\r\n}\r\n","",{version:3,sources:["webpack://./src/App.css"],names:[],mappings:"AAAA;EACE,0BAA0B;EAC1B,+DAA6E;EAC7E,iBAAiB;EACjB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,0BAA0B;EAC1B,+DAAyE;EACzE,mBAAmB;EACnB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,0BAA0B;EAC1B,+DAA0E;EAC1E,mBAAmB;EACnB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,0BAA0B;EAC1B,+DAAuE;EACvE,iBAAiB;EACjB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,wBAAwB;EACxB,+DAAsE;EACtE,mBAAmB;EACnB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,wBAAwB;EACxB,+DAAmE;EACnE,iBAAiB;EACjB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,wBAAwB;EACxB,+DAAuE;EACvE,gBAAgB;EAChB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,wBAAwB;EACxB,+DAAoE;EACpE,gBAAgB;EAChB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,wBAAwB;EACxB,+DAAqE;EACrE,gBAAgB;EAChB,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,iBAAiB;EACjB,yBAAyB;EACzB,SAAS;EACT,UAAU;EACV,oCAAoC;EACpC,mCAAmC;AACrC;;AAEA;EACE,iBAAiB;EACjB,mCAAmC;AACrC;;AAEA;EACE,qBAAqB;EACrB,gBAAgB;EAChB,gBAAgB;EAChB,uBAAuB;EACvB,sBAAsB;AACxB;;AAEA;EACE,WAAW;EACX,mBAAmB;EACnB,iBAAiB;EACjB,aAAa;EACb,cAAc;AAChB;;AAEA;EACE,mBAAmB;EACnB,WAAW;EACX,iBAAiB;EACjB,sBAAsB;EACtB,iBAAiB;AACnB;;AAEA;EACE,WAAW;EACX,qBAAqB;AACvB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,cAAc;EACd,mBAAmB;EACnB,iBAAiB;AACnB;;AAEA;EACE,iBAAiB;EACjB;AACF;;AAEA;EACE,eAAe;AACjB;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,gBAAgB;EAChB,gBAAgB;EAChB,oBAAoB;AACtB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,SAAS;EACT,kBAAkB;AACpB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,cAAc;EACd,aAAa;EACb,sCAAsC;EACtC,SAAS;EACT,gBAAgB;AAClB;;AAEA;EACE,oBAAoB;EACpB,kBAAkB;EAClB,gBAAgB;EAChB,gBAAgB;AAClB;;AAEA;EACE,iBAAiB;EACjB,gBAAgB;EAChB,qBAAqB;AACvB;;AAEA;EACE,mBAAmB;EACnB,qBAAqB;EACrB,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;AACA;EACE,qBAAqB;AACvB;AACA;EACE,cAAc;AAChB;;AAEA;EACE,yBAAyB;EACzB,YAAY;EACZ,YAAY;AACd;;AAEA;EACE,iCAAiC;AACnC;;AAEA;EACE,SAAS;EACT,mBAAmB;EACnB,mBAAmB;EACnB,kBAAkB;EAClB,aAAa;EACb,yBAAyB;AAC3B;;AAEA;EACE,gBAAgB;EAChB,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;AACpB;AACA;EACE,WAAW;EACX,SAAS;EACT,WAAW;EACX,kBAAkB;EAClB,yBAAyB;AAC3B;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,sBAAsB;AACxB;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,mBAAmB;EACnB,YAAY;EACZ,oBAAoB;EACpB,sBAAsB;AACxB;AACA;EACE,YAAY;AACd;AACA;EACE,UAAU;AACZ;;AAEA;;EAEE,sBAAsB;EACtB,kBAAkB;EAClB,2BAA2B;EAC3B,sBAAsB;EACtB,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,2BAA2B;EAC3B,WAAW;EACX,2BAA2B;EAC3B,sBAAsB;EACtB,mBAAmB;EACnB,eAAe;EACf,iBAAiB;EACjB,YAAY;EACZ,kBAAkB;EAClB,gBAAgB;AAClB;AACA;EACE,YAAY;AACd;;AAEA;EACE;IACE,oBAAoB;EACtB;EACA;IACE,yBAAyB;EAC3B;AACF;;AAEA;EACE,+BAA+B;EAC/B,YAAY;AACd;AACA;EACE,kBAAkB;EAClB,mBAAmB;EACnB,kBAAkB;EAClB,iBAAiB;EACjB,QAAQ;EACR,SAAS;EACT,UAAU;AACZ;;;AAGA;EACE,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,iBAAiB;EACjB,YAAY;EACZ,kBAAkB;EAClB,mBAAmB;EACnB,gCAAgC;EAChC,uBAAuB;AACzB;;AAEA;EACE,mBAAmB;EACnB,kCAAkC;AACpC;;AAEA;EACE,iBAAiB;EACjB,sBAAsB;EACtB,sBAAsB;EACtB,oBAAoB;EACpB,0BAA0B;EAC1B,yBAAyB;EACzB,iBAAiB;AACnB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,sBAAsB;EACtB,cAAc;EACd,iBAAiB;EACjB,qBAAqB;EACrB,oBAAoB;EACpB,qBAAqB;EACrB,sBAAsB;EACtB,eAAe;EACf,qBAAqB;EACrB,sBAAsB;AACxB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,+CAA+C;EAC/C,2BAA2B;EAC3B,kBAAkB;EAClB,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,eAAe;AACjB;;AAEA;EACE,+CAA+C;AACjD;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,oBAAoB;EACpB,sBAAsB;AACxB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,UAAU;EACV,kBAAkB;AACpB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,2BAA2B;AAC7B;;AAEA;EACE,sBAAsB;EACtB,yBAAyB;EACzB,2BAA2B;AAC7B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,qCAAqC;EACrC,iCAAiC;EACjC,mCAAmC;EACnC,kBAAkB;AACpB;;AAEA;EACE,+CAA+C;EAC/C,iCAAiC;EACjC,UAAU;EACV,2BAA2B;EAC3B,eAAe;EACf,WAAW;EACX,OAAO;EACP,QAAQ;EACR,MAAM;EACN,aAAa;EACb,YAAY;AACd;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,mBAAmB;EACnB,qBAAqB;EACrB,cAAc;EACd,kBAAkB;EAClB,qBAAqB;EACrB,cAAc;AAChB;;AAEA;;;EAGE,mBAAmB;EACnB,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,UAAU;EACV,kBAAkB;EAClB,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,iBAAiB;EACjB,eAAe;EACf,YAAY;EACZ,gBAAgB;AAClB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,YAAY;AACd;;AAEA;EACE;IACE,aAAa;IACb,qCAAqC;EACvC;;EAEA;IACE,yBAAyB;IACzB,qBAAqB;EACvB;EACA;IACE,yBAAyB;EAC3B;AACF;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,eAAe;EACf,WAAW;EACX,MAAM;EACN,SAAS;EACT,OAAO;EACP,QAAQ;AACV;;AAEA;EACE;IACE,aAAa;IACb,0BAA0B;EAC5B;;EAEA;IACE,kCAAkC;IAClC,gCAAgC;EAClC;;EAEA;IACE,aAAa;IACb,mBAAmB;IACnB,oBAAoB;EACtB;;EAEA;IACE,aAAa;IACb,mBAAmB;EACrB;;EAEA;IACE,aAAa;EACf;;EAEA;IACE,aAAa;EACf;AACF",sourcesContent:["@font-face {\r\n  font-family: 'Philosopher';\r\n  src: url('./fonts/philosopher/Philosopher-BoldItalic.ttf') format('truetype');\r\n  font-weight: bold;\r\n  font-style: italic;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Philosopher';\r\n  src: url('./fonts/philosopher/Philosopher-Italic.ttf') format('truetype');\r\n  font-weight: normal;\r\n  font-style: italic;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Philosopher';\r\n  src: url('./fonts/philosopher/Philosopher-Regular.ttf') format('truetype');\r\n  font-weight: normal;\r\n  font-style: normal;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Philosopher';\r\n  src: url('./fonts/philosopher/Philosopher-Bold.ttf') format('truetype');\r\n  font-weight: bold;\r\n  font-style: normal;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Comfortaa';\r\n  src: url('./fonts/comfortaa/Comfortaa-Regular.ttf') format('truetype');\r\n  font-weight: normal;\r\n  font-style: normal;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Comfortaa';\r\n  src: url('./fonts/comfortaa/Comfortaa-Bold.ttf') format('truetype');\r\n  font-weight: bold;\r\n  font-style: normal;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Comfortaa';\r\n  src: url('./fonts/comfortaa/Comfortaa-SemiBold.ttf') format('truetype');\r\n  font-weight: 600;\r\n  font-style: normal;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Comfortaa';\r\n  src: url('./fonts/comfortaa/Comfortaa-Light.ttf') format('truetype');\r\n  font-weight: 300;\r\n  font-style: normal;\r\n  font-display: swap;\r\n}\r\n\r\n@font-face {\r\n  font-family: 'Comfortaa';\r\n  src: url('./fonts/comfortaa/Comfortaa-Medium.ttf') format('truetype');\r\n  font-weight: 500;\r\n  font-style: normal;\r\n  font-display: swap;\r\n}\r\n\r\nbody {\r\n  font-size: 0.9rem;\r\n  /* background: #f6f9ff; */\r\n  margin: 0;\r\n  padding: 0;\r\n  font-family: 'Comfortaa', sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n}\r\n\r\n.recharts-wrapper {\r\n  font-size: 0.8rem;\r\n  font-family: 'Comfortaa', monospace;\r\n}\r\n\r\n.recharts-legend-item-text {\r\n  display: inline-block;\r\n  max-width: 150px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  vertical-align: middle;\r\n}\r\n\r\n.App {\r\n  color: #000;\r\n  background: #fcfcfc;\r\n  line-height: 1.15;\r\n  padding: 1rem;\r\n  padding-top: 0;\r\n}\r\n\r\n.App.dark {\r\n  background: #000000;\r\n  color: #FFF;\r\n  line-height: 1.15;\r\n  box-sizing: border-box;\r\n  min-height: 100vh;\r\n}\r\n\r\nh3, h2 {\r\n  color: #444;\r\n  margin: 1rem 0 1.5rem;\r\n}\r\n\r\n.App.dark h3, .App.dark h2 {\r\n  color: white;\r\n}\r\n\r\nh3 {\r\n  margin: 1rem 0;\r\n  font-weight: normal;\r\n  font-size: 1.2rem;\r\n}\r\n\r\nh2 {\r\n  font-size: 1.6rem;\r\n  font-weight: normal\r\n}\r\n\r\nlabel {\r\n  cursor: pointer;\r\n}\r\n\r\ninput + label,\r\nlabel + input {\r\n  margin-left: 0.5rem;\r\n}\r\n\r\n.chart-subtitle, .stats {\r\n  margin: 1.5rem 0 1rem;\r\n}\r\n\r\n.chart-description {\r\n  margin: 1rem 0 0;\r\n  max-width: 600px;\r\n  /* color: #ffffff; */\r\n}\r\n\r\n.App.dark .chart-description {\r\n  color: #ffffff;\r\n}\r\n\r\n.chart-description p:first-child {\r\n  margin-top: 0;\r\n}\r\n\r\n.chart-description p:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.chart-description ul {\r\n  margin: 0;\r\n  padding-left: 20px;\r\n}\r\n\r\n.chart-description li {\r\n  margin-top: 5px;\r\n}\r\n\r\n.chart-grid {\r\n  color: #16182E;\r\n  display: grid;\r\n  grid-template-columns: repeat(10, 1fr);\r\n  gap: 1rem;\r\n  margin-top: 1rem;\r\n}\r\n\r\n.chart-grid-subtitle {\r\n  grid-column-start: 1;\r\n  grid-column-end: 9;\r\n  margin-bottom: 0;\r\n  margin-top: 2rem;\r\n}\r\n\r\n.total-stat-value {\r\n  font-size: 1.5rem;\r\n  overflow: hidden;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n.total-stat-delta {\r\n  font-size: 0.875rem;\r\n  line-height: 1.125rem;\r\n  display: block;\r\n}\r\n\r\n.total-stat-delta.plus {\r\n  color: #46E3AE;\r\n}\r\n.App.light .total-stat-delta.plus {\r\n  color: rgb(34 199 97);\r\n}\r\n.total-stat-delta.minus {\r\n  color: #727171;\r\n}\r\n\r\n.App.dark .chart-cell {\r\n  /* background: #181818; */\r\n  border: none;\r\n  color: white;\r\n}\r\n\r\n.App.dark .chart-cell.stats {\r\n  /* border: 1px solid #FFFFFF14; */\r\n}\r\n\r\n.chart-cell {\r\n  margin: 0;\r\n  border-radius: 12px;\r\n  background: #131313;\r\n  position: relative;\r\n  padding: 1rem;\r\n  grid-column-start: span 5;\r\n}\r\n\r\n.chart-cell.stats {\r\n  min-height: 60px;\r\n  grid-column-start: span 2;\r\n  text-align: center;\r\n}\r\n\r\n.chart-cell.experiment {\r\n  border-color: #fbb;\r\n}\r\n.chart-cell.experiment:after {\r\n  color: #f55;\r\n  top: 1rem;\r\n  right: 1rem;\r\n  position: absolute;\r\n  content: '(experimental)';\r\n}\r\n\r\n.chart-cell h3 {\r\n  margin-top: 0;\r\n  letter-spacing: 0px;\r\n  font-size: 1.125rem;\r\n  line-height: 1.4375rem;\r\n}\r\n\r\n.chart-cell .csv-link {\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  margin-left: 0.3rem;\r\n  opacity: 0.5;\r\n  display: inline-flex;\r\n  vertical-align: middle;\r\n}\r\n.chart-cell:hover .csv-link {\r\n  opacity: 0.5;\r\n}\r\n.chart-cell .csv-link:hover {\r\n  opacity: 1;\r\n}\r\n\r\n.form input[type=\"date\"],\r\n.form input[type=\"text\"] {\r\n  border: 1px solid #aaa;\r\n  border-radius: 3px;\r\n  appearance: none !important;\r\n  box-sizing: border-box;\r\n  padding: 3px;\r\n}\r\n\r\n.form button {\r\n  border: none;\r\n  appearance: none !important;\r\n  color: #000;\r\n  border: 1px solid #FFFFFF0F;\r\n  box-sizing: border-box;\r\n  background: #b39a31;\r\n  cursor: pointer;\r\n  margin-left: 10px;\r\n  height: 28px;\r\n  border-radius: 3px;\r\n  padding: 3px 7px;\r\n}\r\n.form button:hover {\r\n  opacity: 0.9;\r\n}\r\n\r\n@keyframes loader {\r\n  from {\r\n    transform: rotate(0);\r\n  }\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.loader {\r\n  animation: loader 1.5s infinite;\r\n  opacity: 0.3;\r\n}\r\n.chart-cell .loader {\r\n  position: absolute;\r\n  margin-left: -1.5em;\r\n  margin-top: -1.5em;\r\n  font-size: 0.7rem;\r\n  top: 50%;\r\n  left: 50%;\r\n  z-index: 2;\r\n}\r\n\r\n\r\n.warning, .warning a {\r\n  color: #d85a5a;\r\n}\r\n\r\n.nav {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin: 0 -1rem 0;\r\n  height: 55px;\r\n  padding-left: 1rem;\r\n  padding-right: 1rem;\r\n  border-bottom: 1px solid #ffffff;\r\n  background-color: white;\r\n}\r\n\r\n.App.dark .nav {\r\n  background: #000000;\r\n  border-bottom: 1px solid #FFFFFF29;\r\n}\r\n\r\n.nav-logo {\r\n  /* width: 87px; */\r\n  vertical-align: middle;\r\n  margin: 0px 0.5rem 0 0;\r\n  display: inline-flex;\r\n  font-family: 'Philosopher';\r\n  /* letter-spacing: 3px; */\r\n  font-weight: bold;\r\n}\r\n\r\n.nav-logo img {\r\n  width: 87px;\r\n}\r\n\r\na, a:active, a:visited {\r\n  color: #16182E;\r\n}\r\n\r\n.nav-link {\r\n  letter-spacing: 0.47px;\r\n  color: #ffffff;\r\n  /* color: #000; */\r\n  text-decoration: none;\r\n  padding: 0.5rem 1rem;\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  font-size: 15px;\r\n  line-height: 1.125rem;\r\n  letter-spacing: 0.47px;\r\n}\r\n\r\n.nav-link:active, .nav-link:visited {\r\n  color: #ffffff;\r\n}\r\n\r\n.nav-link.active {\r\n  color: #444;\r\n}\r\n\r\n.App.dark a, .App.dark a:active, .App.dark a:visited {\r\n  color: #FFFFFF;\r\n}\r\n\r\n.App.dark .nav-link {\r\n  color: #ffffff;\r\n}\r\n\r\n.App.dark .nav-link:active, .App.dark .nav-link:visited {\r\n  color: #ffffff;\r\n}\r\n\r\n.App.dark .nav-link.active {\r\n  color: white;\r\n}\r\n\r\n.App.dark .nav-link:hover {\r\n  color: white;\r\n}\r\n\r\n.nav-link:hover {\r\n  color: #444;\r\n}\r\n\r\n.nav-right {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.modeselect {\r\n  width: 30px;\r\n  height: 26px;\r\n  background: #16182E 0% 0% no-repeat padding-box;\r\n  border: 1px solid #FFFFFF0F;\r\n  border-radius: 4px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.App.dark .modeselect {\r\n  background: #FFFFFF 0% 0% no-repeat padding-box;\r\n}\r\n\r\n.modeselect svg {\r\n  fill: #ffffff;\r\n}\r\n\r\n.App.dark .modeselect svg {\r\n  fill: #FFFFFF0F;\r\n}\r\n\r\n.page-title {\r\n  font-size: 1.8125rem;\r\n  line-height: 2.3125rem;\r\n}\r\n\r\n.recharts-cartesian-axis-tick-value {\r\n  font-size: 0.75rem;\r\n}\r\n\r\n.App.dark .recharts-cartesian-axis-tick-value {\r\n  fill: #fff;\r\n  font-size: 0.75rem;\r\n}\r\n\r\n.App.dark .recharts-cartesian-grid-horizontal line, .App.dark .recharts-cartesian-grid-vertical line {\r\n  stroke: #FFFFFF0F;\r\n}\r\n\r\n.recharts-tooltip-wrapper .recharts-default-tooltip {\r\n  padding: 5px 12px!important;\r\n}\r\n\r\n.recharts-tooltip-wrapper ul.recharts-tooltip-item-list li {\r\n  padding: 0px!important;\r\n  font-size: 12px!important;\r\n  line-height: 15px!important;\r\n}\r\n\r\n.recharts-tooltip-wrapper ul.recharts-tooltip-item-list li + li {\r\n  margin-top: 1px!important;\r\n}\r\n\r\n.App.dark .recharts-tooltip-wrapper .recharts-default-tooltip {\r\n  background-color: #00000029!important;\r\n  box-shadow: 0px 3px 6px #0000005C;\r\n  border: 1px solid #484B6E!important;\r\n  border-radius: 4px;\r\n}\r\n\r\n.App-header-drawer {\r\n  background: #000000 0% 0% no-repeat padding-box;\r\n  box-shadow: 8px 3px 6px #00000029;\r\n  opacity: 1;\r\n  backdrop-filter: blur(27px);\r\n  position: fixed;\r\n  z-index: 11;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  height: 100vh;\r\n  width: 304px;\r\n}\r\n\r\n.App-header-drawer .App-header-link-container a {\r\n  font-size: 14px;\r\n  line-height: 18px;\r\n  font-weight: normal;\r\n  letter-spacing: 0.1px;\r\n  color: #ffffff;\r\n  padding: 15px 16px;\r\n  text-decoration: none;\r\n  display: block;\r\n}\r\n\r\n.App-header-drawer .App-header-link-container a:hover,\r\n.App-header-drawer .App-header-link-container a:focus,\r\n.App-header-drawer .App-header-link-container a.active {\r\n  background: #181818;\r\n  color: white;\r\n}\r\n\r\n.App-header-drawer .App-header-menu-icon {\r\n  color: white;\r\n  margin: unset;\r\n  font-size: 2rem;\r\n}\r\n\r\n.App-header-drawer .App-header-link-main {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.App-header-links-header {\r\n  height: 62px;\r\n  display: flex;\r\n  align-items: center;\r\n  z-index: 3;\r\n  padding-left: 1rem;\r\n  padding-right: 1rem;\r\n}\r\n\r\n.App-header-menu-icon {\r\n  color: black;\r\n  font-size: 1.3rem;\r\n  cursor: pointer;\r\n  opacity: 0.7;\r\n  margin: 9px 10px;\r\n}\r\n\r\n.App.dark .App-header-menu-icon {\r\n  color: white;\r\n}\r\n\r\n.App-header-menu-icon:hover {\r\n  opacity: 0.9;\r\n}\r\n\r\n@media all and (max-width: 1000px) {\r\n  .chart-grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n\r\n  .chart-cell {\r\n    grid-column-start: span 2;\r\n    grid-column-end: auto;\r\n  }\r\n  .chart-cell.stats {\r\n    grid-column-start: span 1;\r\n  }\r\n}\r\n\r\n.content {\r\n  margin-top: 1rem;\r\n}\r\n\r\n.App-header-menu-icon-block {\r\n  display: none;\r\n}\r\n\r\n.App-header-backdrop {\r\n  position: fixed;\r\n  z-index: 10;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n\r\n@media all and (max-width: 600px) {\r\n  .chart-grid {\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n  }\r\n\r\n  .chart-cell {\r\n    grid-column-start: unset!important;\r\n    grid-column-end: unset!important;\r\n  }\r\n\r\n  .App-header-menu-icon-block {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-right: 0.5rem;\r\n  }\r\n\r\n  .nav-left {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .nav-logo {\r\n    display: flex;\r\n  }\r\n\r\n  .nav-left .nav-link {\r\n    display: none;\r\n  }\r\n}\r\n"],sourceRoot:""}])},function(e){e.exports=JSON.parse('{"client":{"css":["/static/css/client.27e3d35d.css"],"js":["/static/js/client.054727e3.js"],"map":["/static/css/client.27e3d35d.css.map","/static/js/client.054727e3.js.map"],"chunks":[0]},"noentry":{"png":["/favicon.png","/static/media/anzor-logo.078fe1a9.png"],"txt":["/robots.txt","/static/js/client.054727e3.js.LICENSE.txt"],"ttf":["/static/media/Comfortaa-Bold.2df2dd0e.ttf","/static/media/Comfortaa-Light.a32b6e45.ttf","/static/media/Comfortaa-Medium.cca5f204.ttf","/static/media/Comfortaa-Regular.26795cfa.ttf","/static/media/Comfortaa-SemiBold.170d22d9.ttf","/static/media/Philosopher-Bold.a3aed8ba.ttf","/static/media/Philosopher-BoldItalic.fa16e091.ttf","/static/media/Philosopher-Italic.b9e3037c.ttf","/static/media/Philosopher-Regular.af6ea627.ttf"]}}')},function(e,t){e.exports=require("cors")},function(e,t,n){"use strict";n.r(t);var r=n(14),a=n.n(r),i=n(4),o=n(1),s=n.n(o),l=n(7),c=n(18),p=n(9),d=n.n(p),m=(n(15),n(12)),u=n(8),A=n.n(u),f=n(13),y=n.n(f),h=n(2),C=n(19),g=n.n(C),v=n(10),b=n.n(v),E=n(16),B=n.n(E);const{BigNumber:k}=i.ethers,x=400,w=65,F=["#ee64b8","#22c761","#ff8d00","#00bfea","#8884ff","#ab6100","#c90000","#7b7b7b","#6464ff","purple","darkgreen","#f93333"],j={debug:"grey",error:"red",warn:"orange",info:"greenBright"};function T(e){return g()({level:"info",prefix:t=>{const n=`[${e}] ${t.toUpperCase()}`;return(B.a[j[t]]||B.a.white)(n)}})}T("helpers");const D=Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}),S=Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:1}),M=Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}),P=Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),O=Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:1}),I=Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2});const L=(e,t={})=>{const n=!!t.currency,r=!!t.compact;if(n&&!r)return function(e){const t=Math.abs(e);return t<10?I:t<1e3?O:P}(e).format(e);const a=r?N(e):function(e){const t=Math.abs(e);return t<10?M:t<1e3?S:D}(e).format(e);return n?"$"+a:a},N=e=>{const t=Math.abs(e);return t>=1e9?(e/1e9).toFixed(t<1e10?2:1)+"B":t>=1e6?(e/1e6).toFixed(t<1e7?2:1)+"M":t>=1e3?(e/1e3).toFixed(t<1e4?2:1)+"K":""+e.toFixed(1)},R=(e,t)=>{if(!e)return;e.constructor!==Date&&(e=new Date(1e3*e));const n=t&&t[0]&&t[0].payload&&t[0],r=b()("%d.%m",e),a=n&&n.payload.all;return a?n&&"%"===n.unit?r:`${r}, ${L(a,{currency:!0,compact:!0})}`:r},_=e=>e.toFixed(2)+"%",K=e=>N(e),q=(e,...t)=>L(e,{currency:!0,compact:!0}),U=(e,t,n)=>L(e),$=(e,t,n)=>e.toFixed(2)+"%",z=(e,t,n)=>n&&"%"===n.unit?e.toFixed(2):L(e,{currency:!0}),W=(e,t)=>{if(!e)return e;if(e.constructor!==Date&&!(e=new Date(1e3*e)).getDate())return e;const n=b()("%d.%m",e),r=t&&t[0];if(r&&"%"===r.unit)return n;const a=r&&r.payload.all;return e.constructor!==Date?a?`${e}, total: ${a}`:e:a?`${n}, total: ${a}`:n};function J(e,t){return`${e}?${Object.entries(t).reduce((e,[t,n])=>(n&&e.push(`${t}=${encodeURIComponent(n)}`),e),[]).join("&")}`}var Y=n(0),G=s.a.createElement;function H(e){return b()("%Y-%m-%d",new Date(1e3*e))}function V({data:e,fields:t,name:n="MJAR stats"}){const r=Object(o.useCallback)(r=>{r.preventDefault();const a=function(e,t){const n="Date,"+t.map(e=>e.name||e.key).join(","),r=e.map(e=>H(e.timestamp)+","+t.map(t=>e[t.key]).join(",")).join("\n");return"data:application/octet-stream,"+encodeURIComponent(n+"\n"+r)}(e,t),i=H(e[0].timestamp),o=H(e[e.length-1].timestamp),s=`${n}_${i}_${o}.csv`,l=document.createElement("a");l.href=a,l.download=s,document.body.appendChild(l),l.click(),document.body.removeChild(l)},[e,t,n]);return e&&0!==e.length&&t?G("a",{title:"Download CSV",className:"csv-link",onClick:r},G(h.RiDownload2Fill,{size:"1em"})):null}var X=s.a.createElement;function Z(e){const{title:t,loading:n,csvFields:r,data:a}=e;return X(s.a.Fragment,null,X("h3",null,t,X(V,{fields:r,name:t,data:a})),n&&X(h.RiLoader5Fill,{size:"3em",className:"loader"}),e.children)}var Q=s.a.createElement;function ee(e){const{data:t,loading:n,chartHeight:r,yaxisWidth:a,xaxisTickFormatter:i,yaxisTickFormatter:o,tooltipFormatter:s,tooltipLabelFormatter:l}=e;return Q(Z,{title:"Volume",loading:n,csvFields:[{key:"swap",name:"Swap"},{key:"margin",name:"Margin trading"},{key:"mint",name:"Mint MJLP"},{key:"burn",name:"Burn MJLP"},{key:"liquidation",name:"Liquidation"},{key:"cumulative",name:"Cumulative"}],data:t},Q(Y.ResponsiveContainer,{width:"100%",height:r},Q(Y.ComposedChart,{data:t,syncId:"syncA"},Q(Y.CartesianGrid,{strokeDasharray:"10 10"}),Q(Y.XAxis,{dataKey:"timestamp",tickFormatter:i,minTickGap:30}),Q(Y.YAxis,{dataKey:"all",interval:"preserveStartEnd",tickCount:7,tickFormatter:o,width:a}),Q(Y.YAxis,{dataKey:"cumulative",orientation:"right",yAxisId:"right",tickFormatter:o,width:a}),Q(Y.Tooltip,{formatter:s,labelFormatter:l,contentStyle:{textAlign:"left"}}),Q(Y.Legend,null),Q(Y.Bar,{isAnimationActive:!1,type:"monotone",dataKey:"swap",stackId:"a",name:"Swap",fill:F[0]}),Q(Y.Bar,{isAnimationActive:!1,type:"monotone",dataKey:"mint",stackId:"a",name:"Mint MJLP",fill:F[1]}),Q(Y.Bar,{isAnimationActive:!1,type:"monotone",dataKey:"burn",stackId:"a",name:"Burn MJLP",fill:F[2]}),Q(Y.Bar,{isAnimationActive:!1,type:"monotone",dataKey:"liquidation",stackId:"a",name:"Liquidation",fill:F[3]}),Q(Y.Bar,{isAnimationActive:!1,type:"monotone",dataKey:"margin",stackId:"a",name:"Margin trading",fill:F[4]}),Q(Y.Line,{isAnimationActive:!1,type:"monotone",dot:!1,strokeWidth:3,stroke:F[0],dataKey:"cumulative",yAxisId:"right",name:"Cumulative"}))))}var te=s.a.createElement;function ne(e){const{data:t,loading:n,chartHeight:r,yaxisWidth:a,xaxisTickFormatter:i,yaxisTickFormatter:o,tooltipFormatter:s,tooltipLabelFormatter:l}=e;return te(Z,{title:"Fees",loading:n,csvFields:[{key:"swap",name:"Swap"},{key:"margin",name:"Margin trading"},{key:"mint",name:"Mint MJLP"},{key:"burn",name:"Burn MJLP"},{key:"liquidation",name:"Liquidation"},{key:"cumulative",name:"Cumulative"}],data:t},te(Y.ResponsiveContainer,{width:"100%",height:r},te(Y.ComposedChart,{data:t,syncId:"syncA"},te(Y.CartesianGrid,{strokeDasharray:"10 10"}),te(Y.XAxis,{dataKey:"timestamp",tickFormatter:i,minTickGap:30}),te(Y.YAxis,{dataKey:"all",interval:"preserveStartEnd",tickCount:7,tickFormatter:o,width:a}),te(Y.YAxis,{dataKey:"cumulative",orientation:"right",yAxisId:"right",tickFormatter:o,width:a}),te(Y.Tooltip,{formatter:s,labelFormatter:l,contentStyle:{textAlign:"left"}}),te(Y.Legend,null),te(Y.Bar,{isAnimationActive:!1,type:"monotone",dataKey:"swap",stackId:"a",name:"Swap",fill:F[0]}),te(Y.Bar,{isAnimationActive:!1,type:"monotone",dataKey:"mint",stackId:"a",name:"Mint MJLP",fill:F[1]}),te(Y.Bar,{isAnimationActive:!1,type:"monotone",dataKey:"burn",stackId:"a",name:"Burn MJLP",fill:F[2]}),te(Y.Bar,{isAnimationActive:!1,type:"monotone",dataKey:"liquidation",stackId:"a",name:"Liquidation",fill:F[3]}),te(Y.Bar,{isAnimationActive:!1,type:"monotone",dataKey:"margin",stackId:"a",name:"Margin trading",fill:F[4]}),te(Y.Line,{isAnimationActive:!1,type:"monotone",strokeWidth:3,dot:!1,stroke:F[0],dataKey:"cumulative",yAxisId:"right",name:"Cumulative"}))),te("div",{className:"chart-description"},"Collected fees. USD value is calculated with token price at the moment of swap, trade, minting or redeeming MJLP"))}var re=s.a.createElement;function ae(){return(ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ie(e){const{loading:t,title:n,data:r,description:a,height:i=x,yaxisWidth:o=w,yaxisDataKey:l="all",yaxisTickFormatter:c=q,yaxisDomain:p,xaxisDataKey:d="timestamp",xaxisTickFormatter:m=R,tooltipFormatter:u=z,tooltipLabelFormatter:A=R,items:f,type:y,syncId:h,children:C,rightYaxisDataKey:g,isCoinChart:v}=e;let b;b="Line"===y?Y.LineChart:"Bar"===y?Y.BarChart:Y.ComposedChart;const E=(f||[]).map((e,t)=>{const n={type:"monotone",dataKey:e.key,stackId:"a",name:e.name||e.key,fill:e.color||F[t%F.length],stroke:e.color||F[t%F.length],dot:e.dot||!1,key:"item-"+t,unit:e.unit,strokeWidth:e.strokeWidth,yAxisId:e.yAxisId};return"Line"===e.type||"Line"===y?re(Y.Line,ae({},n,{isAnimationActive:!1})):re(Y.Bar,ae({},n,{isAnimationActive:!1}))}),B=f.map(e=>({key:e.key,name:e.name}));return re(Z,{title:n,loading:t,data:r,csvFields:B},re(Y.ResponsiveContainer,{width:"100%",height:i},s.a.createElement(b,{data:r,syncId:h},[re(Y.CartesianGrid,{strokeDasharray:"10 10",key:"a"}),re(Y.XAxis,{dataKey:d,tickFormatter:m,minTickGap:30,key:"b"}),re(Y.YAxis,{domain:p,dataKey:l,tickFormatter:c,key:"c"}),g?re(Y.YAxis,{dataKey:g,tickFormatter:c,orientation:"right",yAxisId:"right",key:"c2"}):null,re(Y.Tooltip,{formatter:u,labelFormatter:A,contentStyle:{textAlign:"left"},key:"d"}),re(Y.Legend,{key:"e"}),...E,C])),a&&re("div",{className:"chart-description"},a))}var oe=n(5),se=n(3);const le={10:{MJAR:"0x9945Dd3eCB40A6b594813f2A4DF1643b10Fe3550",ES_MJAR:"",MJLP:"0x85CEF8dd0AaD49Fb4C04529f65D92177B936Da74",BN_MJAR:"",STAKED_MJAR_TRACKER:"",STAKED_MJLP_TRACKER:"",BONUS_MJAR_TRACKER:"",FEE_MJAR_TRACKER:"",FEE_MJLP_TRACKER:"",AVAX:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",BTC:"0x50b7545627a5162F82A992c33b87aDc75187B218",ETH:"0x49D5c2BdFfac6CE2BFdB6640F4F80f226bc10bAB",RewardReader:"0xeF98e5d4F67633D6072c2a93e69A7F6a6179fD1b",MjlpManager:"0xCeF49b3f525d646924d20A4bC7B325dBb537e45A",Router:"0x5043C2470D7454F1678f6ecCCEE9D3D4588320cC",OrderBook:"0x286798570bf721c45A757B1de0B3149526c42273",PositionManager:"0x8F27c5F885B19279E12cdCbf29c9B0541dc563F3",FastPriceFeed:"",PositionRouter:"0xD30E4778512A0b24A34D355A5Ef28d337e96Bb95",PositionExecutorUpKeep:""}};function ce(e,t){if(!e in le)throw new Error("Unknown chain "+e);if(!(t in le[e]))throw new Error("Unknown address key "+t);return le[e][t]}var pe=n(20),de=n(21),me=n(22);function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{JsonRpcProvider:ye}=i.providers,he={avalanche:new ye("https://api.avax.network/ext/bc/C/rpc")};const Ce=parseInt(Date.now()/1e3),ge=parseInt(+new Date(2022,5,1)/1e3);function ve(e,t){const n={};!t&&e.length>0&&(delete(t=Object.keys(e[0])).timestamp,delete t.id);for(const r of e)for(const e of t)r[e]?n[e]=r[e]:n[e]&&(r[e]=n[e]);return e}async function be(e,t){const n=function(e){if(!(e in he))throw new Error("Unknown chain "+e);return he.avalanche}(e),r=function(e){const t={avalanche:10}[e];if(!t)throw new Error("Unknown chain "+e);return t}(e),a=new i.Contract(ce(r,"RewardReader"),pe.abi,n),o=new i.Contract(ce(r,"MJLP"),me.abi,n),s=new i.Contract(ce(r,"MjlpManager"),de.abi,n);let l,c,p;10===r&&(l=[ce(10,"MJAR"),ce(10,"ES_MJAR"),ce(10,"STAKED_MJAR_TRACKER"),ce(10,"BONUS_MJAR_TRACKER"),ce(10,"BN_MJAR"),ce(10,"MJLP")],c=[ce(10,"STAKED_MJAR_TRACKER"),ce(10,"STAKED_MJAR_TRACKER"),ce(10,"BONUS_MJAR_TRACKER"),ce(10,"FEE_MJAR_TRACKER"),ce(10,"FEE_MJAR_TRACKER"),ce(10,"FEE_MJLP_TRACKER")],p=[ce(10,"STAKED_MJAR_TRACKER"),ce(10,"BONUS_MJAR_TRACKER"),ce(10,"FEE_MJAR_TRACKER"),ce(10,"STAKED_MJLP_TRACKER"),ce(10,"FEE_MJLP_TRACKER")]);const[m,u,A,f,y]=await Promise.all([a.getDepositBalances(t,l,c),a.getStakingInfo(t,p).then(e=>p.map((t,n)=>e.slice(5*n,5*(n+1)))),o.totalSupply(),s.getAumInUsdm(!0),d()("https://api.coingecko.com/api/v3/simple/price?ids=metavault-trade&vs_currencies=usd").then(async e=>(await e.json())["metavault-trade"].usd)]),h=f/1e18/(A/1e18),C=new Date;return{MJLP:{stakedMJLP:m[5]/1e18,pendingETH:u[4][0]/1e18,pendingEsMJAR:u[3][0]/1e18,mjlpPrice:h},MJAR:{stakedMJAR:m[0]/1e18,stakedEsMJAR:m[1]/1e18,pendingETH:u[2][0]/1e18,pendingEsMJAR:u[0][0]/1e18,mjarPrice:y},timestamp:parseInt(C/1e3),datetime:C.toISOString()}}const Ee={"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7":"WOP","0x49D5c2BdFfac6CE2BFdB6640F4F80f226bc10bAB":"WETH","0x50b7545627a5162F82A992c33b87aDc75187B218":"WBTC","0x04068DA6C83AFCFA0e13ba15A6696662335D5B75":"USDC","0x049d68029688eAbF473097a2fC38ef61633A3C7A":"USDT","0x8D11eC38a3EB5E956B052f67Da8Bdc9bef8Abf3E":"DAI"};const Be={avalanche:{[ce(10,"Router")]:"MJAR",[ce(10,"OrderBook")]:"MJAR",[ce(10,"PositionManager")]:"MJAR",[ce(10,"FastPriceFeed")]:"MJAR",[ce(10,"PositionExecutorUpKeep")]:"MJAR",[ce(10,"PositionRouter")]:"MJAR"}},ke=e=>d()(e).then(e=>e.json());function xe(e,t,n=ke){const{0:r,1:a}=Object(o.useState)(!0),{0:i,1:s}=Object(o.useState)(),{0:l,1:c}=Object(o.useState)(t);return Object(o.useEffect)(async()=>{try{a(!0);const t=await n(e);c(t)}catch(e){console.error(e),s(e)}a(!1)},[e]),[l,r,i]}function we(e,{from:t=ge}={}){const n={BTC:"bitcoin",ETH:"ethereum",AVAX:"avalanche",MATIC:"matic-network",WBTC:"wrapped-bitcoin",USDC:"usd-coin",USDT:"tether",DAI:"dai"}[e],r=Date.now()/1e3,a=`https://api.coingecko.com/api/v3/coins/${n}/market_chart?vs_currency=usd&days=${Math.ceil(r/86400)-Math.ceil(t/86400)-1}&interval=daily`,[i,s,l]=xe(a);return[Object(o.useMemo)(()=>{if(!i||0===i.length)return null;return i.prices.map(e=>{const t=e[0]-1;return{timestamp:86400*parseInt(t/1e3/86400),value:e[1]}})},[i]),s,l]}function Fe(e){return 2*Math.sqrt(e)/(1+e)-1}function je(e,{subgraph:t=null,subgraphUrl:n=null,chainName:r="avalanche"}={}){const a=Object(oe.gql)(e);n||(t||(t="chimpydev/core"),n="https://api.thegraph.com/subgraphs/name/"+t);const i=new oe.ApolloClient({link:new oe.HttpLink({uri:n,fetch:d.a}),cache:new oe.InMemoryCache}),{0:s,1:l}=Object(o.useState)(),{0:c,1:p}=Object(o.useState)(!0),{0:m,1:u}=Object(o.useState)(null);return Object(o.useEffect)(()=>{p(!0)},[e,p]),Object(o.useEffect)(()=>{i.query({query:a}).then(e=>{l(e.data),p(!1)}).catch(e=>{console.warn("Subgraph request failed error: %s subgraphUrl: %s",e.message,n),u(e),p(!1)})},[e,l,u,p]),[s,c,m]}function Te(e="avalanche"){const{0:t,1:n}=Object(o.useState)(),{0:r,1:a}=Object(o.useState)(!0),{0:i,1:s}=Object(o.useState)(null);return Object(o.useEffect)(()=>{he[e].getBlock().then(n).catch(s).finally(()=>a(!1))},[]),[t,r,i]}function De(e="avalanche"){const[t,n,r]=je("{\n    _meta {\n      block {\n        number\n      }\n    } \n  }",{chainName:e}),{0:a,1:i}=Object(o.useState)(null);return Object(o.useEffect)(()=>{t&&he[e].getBlock(t._meta.block.number).then(e=>{i(e)})},[t,i]),[a,n,r]}function Se(e=0,t,n){return`\n    hourlyVolumeBySources(\n      first: 1000\n      skip: ${e}\n      orderBy: timestamp\n      orderDirection: desc\n      where: { timestamp_gte: ${t}, timestamp_lte: ${n} }\n    ) {\n      timestamp\n      source\n      swap\n    }\n  `}const Me=7,Pe=86400*Me;function Oe({from:e=ge,to:t=Ce,chainName:n="avalanche"}={}){const r="margin liquidation swap mint burn".split(" "),a=`{\n    volumeStats(\n      first: 1000,\n      orderBy: timestamp,\n      orderDirection: desc\n      where: { period: daily, timestamp_gte: ${e}, timestamp_lte: ${t} }\n    ) {\n      timestamp\n      ${r.join("\n")}\n    }\n  }`,[i,s,l]=je(a,{chainName:n}),c=Object(o.useMemo)(()=>{if(!i)return null;let e=Object(se.sortBy)(i.volumeStats,"timestamp").map(e=>{const t={timestamp:e.timestamp};let n=0;return r.forEach(r=>{t[r]=e[r]/1e30,n+=t[r]}),t.all=n,t}),t=0;const n={};return e.map(e=>{let r;t+=e.all;const a=e.timestamp-Pe;return a in n&&(r=(t-n[a])/Me),Ae({movingAverageAll:r,cumulative:t},e)})},[i]);let p;return c&&c.length&&(p=c[c.length-1].cumulative),[c,p,s,l]}function Ie({from:e=ge,to:t=Ce,chainName:n="avalanche"}={}){const r="margin liquidation swap mint burn".split(" "),a=`{\n    feeStats(\n      first: 1000\n      orderBy: id\n      orderDirection: desc\n      where: { period: daily, timestamp_gte: ${e}, timestamp_lte: ${t} }\n    ) {\n      id\n      margin\n      marginAndLiquidation\n      swap\n      mint\n      burn\n      timestamp\n    }\n  }`;let[i,s,l]=je(a,{chainName:n});return[Object(o.useMemo)(()=>{if(!i||i&&0===i.feeStats.length)return null;let t=Object(se.sortBy)(i.feeStats,"id").map(e=>{const t={timestamp:e.timestamp||e.id};return r.forEach(n=>{e[n]&&(t[n]=e[n]/1e30)}),t.liquidation=e.marginAndLiquidation/1e30-e.margin/1e30,t.all=r.reduce((e,n)=>e+t[n],0),t}),n=0;const a={};return Object(se.chain)(t).groupBy(e=>e.timestamp).map((e,t)=>{const i=Object(se.sumBy)(e,"all");let o;n+=i;const s=t-Pe;s in a&&(o=(n-a[s])/Me);const l={timestamp:Number(t),all:i,cumulative:n,movingAverageAll:o};return r.forEach(t=>{l[t]=Object(se.sumBy)(e,t)}),a[t]=n,l}).value().filter(t=>t.timestamp>=e)},[i]),s,l]}function Le({from:e=ge,to:t=Ce,chainName:n="avalanche"}={}){const r=`{\n    mjlpStats(\n      first: 1000\n      orderBy: timestamp\n      orderDirection: desc\n      where: {period: daily, timestamp_gte: ${e}, timestamp_lte: ${t}}\n    ) {\n      timestamp\n      aumInUsdm\n      mjlpSupply\n      distributedUsd\n      distributedEth\n    }\n  }`;let[a,i,s]=je(r,{chainName:n}),l=0,c=0;return[Object(o.useMemo)(()=>{if(!a||a&&0===a.mjlpStats.length)return null;let e,t,n=Object(se.sortBy)(a.mjlpStats,e=>e.timestamp).filter(e=>e.timestamp%86400==0).reduce((e,t)=>{const n=e[e.length-1],r=Number(t.aumInUsdm)/1e18,a=Number(t.mjlpSupply)/1e18,i=Number(t.distributedUsd)/1e30/a||0;l+=i;const o=Number(t.distributedEth)/1e18/a||0;c+=o;const s=r/a,p=parseInt(t.timestamp),d={timestamp:p,aum:r,mjlpSupply:a,mjlpPrice:s,cumulativeDistributedEthPerMjlp:c,cumulativeDistributedUsdPerMjlp:l,distributedUsdPerMjlp:i,distributedEthPerMjlp:o};return n&&n.timestamp===p?e[e.length-1]=d:e.push(d),e},[]).map(n=>{let{mjlpSupply:r,aum:a}=n;return r||(r=e),a||(a=t),n.mjlpSupplyChange=e?(r-e)/e*100:0,n.mjlpSupplyChange>1e3&&(n.mjlpSupplyChange=0),n.aumChange=t?(a-t)/t*100:0,n.aumChange>1e3&&(n.aumChange=0),e=r,t=a,n});return n=ve(n),n},[a]),i,s]}var Ne=s.a.createElement;function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ke(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{BigNumber:qe}=i,{formatUnits:Ue}=i.utils,$e=Math.floor(Date.now()/1e3);var ze=function(e){const{0:t,1:n}=Object(o.useState)(86400),{0:r,1:a}=Object(o.useState)(),{0:i,1:l}=Object(o.useState)(),{mode:c}=e,p=(Object(o.useCallback)(e=>{a(new Date(Date.now()-1e3*e).toISOString().slice(0,10)),l(void 0)},[a,l]),{from:r?+new Date(r)/1e3:void 0,to:i?+new Date(i)/1e3:$e,groupPeriod:t}),[d,m]=function({from:e=ge,to:t=Ce,chainName:n="avalanche"}={}){const r=`{\n    fundingRates(\n      first: 1000,\n      orderBy: timestamp,\n      orderDirection: desc,\n      where: { period: "daily", id_gte: ${e}, id_lte: ${t} }\n    ) {\n      id,\n      token,\n      timestamp,\n      startFundingRate,\n      startTimestamp,\n      endFundingRate,\n      endTimestamp\n    }\n  }`,[a,i,s]=je(r,{chainName:n});return[Object(o.useMemo)(()=>{if(!a)return null;const e=a.fundingRates.reduce((e,t)=>{const n=Ee[t.token];e[t.timestamp]=e[t.timestamp]||{timestamp:t.timestamp};const r=e[t.timestamp],a=3600*parseInt((t.endTimestamp-t.startTimestamp)/3600);let i=0;if(t.endFundingRate&&t.startFundingRate){i=(t.endFundingRate-t.startFundingRate)/(a/86400)/1e4*365}return r[n]=i,e},{});return ve(Object(se.sortBy)(Object.values(e),"timestamp"),["AVAX","ETH","USDC","USDT","BTC","DAI"])},[a]),i,s]}(p),[u,f,C]=Oe(p),g=Object(o.useMemo)(()=>u&&0!=u.length?u[u.length-1].all:null,[u]),[v,b]=Ie(p),{0:E,1:B}=Object(o.useMemo)(()=>{var e,t;if(!v)return[];const n=null===(e=v[v.length-1])||void 0===e?void 0:e.cumulative;return[n,n-(null===(t=v[v.length-2])||void 0===t?void 0:t.cumulative)]},[v]),[k,j]=Le(p),{0:T,1:D}=Object(o.useMemo)(()=>{var e,t;if(!k)return[];const n=null===(e=k[k.length-1])||void 0===e?void 0:e.aum;return[n,n-(null===(t=k[k.length-2])||void 0===t?void 0:t.aum)]},[k]),[S,M]=function({from:e=ge,to:t=Ce,groupPeriod:n}){const[r,a]=Ie({from:e,to:t,groupPeriod:n}),[i,s]=Le({from:e,to:t,groupPeriod:n}),[l,c]=Oe({from:e,to:t,groupPeriod:n}),p=86400/n;return[Object(o.useMemo)(()=>{if(!r||!i||!l)return null;const e=r.map((e,t)=>{const n=i[t],r=l[t];let a=null!=e&&e.all&&null!=n&&n.aum?e.all/n.aum*100*365*p:null;a>1e4&&(a=null);let o=null!=r&&r.all&&null!=n&&n.aum?r.all/n.aum*100*p:null;return o>1e4&&(o=null),{timestamp:e.timestamp,apr:a,usage:o}}),t=e.reduce((e,t)=>t.apr+e,0)/e.length;e.forEach(e=>e.averageApr=t);const n=e.reduce((e,t)=>t.usage+e,0)/e.length;return e.forEach(e=>e.averageUsage=n),e},[r,i,l]),a||s||c]}(p),[P,O]=function(e,t,{from:n=ge,chainName:r="avalanche"}={}){const[a]=we("BTC",{from:n}),[i]=we("ETH",{from:n}),[s]=we("AVAX",{from:n});return[Object(o.useMemo)(()=>{var n,r,o;if(!(a&&i&&e&&t))return null;const l=e.reduce((e,t)=>(e[t.timestamp]=t,e),{}),c=t.reduce((e,t)=>(e[t.timestamp]=t,e));let p=1200,d=.4;const m=(null===(n=l[a[0].timestamp])||void 0===n?void 0:n.mjlpPrice)||1.19,u=null===(r=a[0])||void 0===r?void 0:r.value,A=null===(o=i[0])||void 0===o?void 0:o.value,f=s&&s[0]&&s[0].value||d,y=.15*m/u,h=.2*m/A,C=.1*m/f,g=.5*m/u,v=.5*m/A,b=.5*m/f,E=[];let B=0,k=0,x=0;for(let e=0;e<a.length;e++){var w,F,j,T;const t=a[e].value,n=(null===(w=i[e])||void 0===w?void 0:w.value)||p,r=s&&s[e]&&s[e].value||d;d=r,p=n;const o=86400*parseInt(a[e].timestamp/86400),D=l[o],S=null!==(F=null==D?void 0:D.mjlpPrice)&&void 0!==F?F:x;x=S;const M=null===(j=l[o])||void 0===j?void 0:j.mjlpSupply,P=null===(T=c[o])||void 0===T?void 0:T.all,O=y*t+h*n+C*r+.5*m,I=(g*t+m/2)*(1+Fe(t/u)),L=(v*n+m/2)*(1+Fe(n/A)),N=(b*r+m/2)*(1+Fe(r/f));if(P&&M){B+=P/M*(o>=1635714e3?.7:.5),k+=.8*S/365}let R,_,K,q=S;S&&M&&B&&(q=S+B),D&&(D.cumulativeDistributedUsdPerMjlp&&(_=S+D.cumulativeDistributedUsdPerMjlp),D.cumulativeDistributedEthPerMjlp&&(K=S+D.cumulativeDistributedEthPerMjlp*n)),E.push({timestamp:a[e].timestamp,syntheticPrice:O,lpBtcPrice:I,lpEthPrice:L,lpMaticPrice:N,mjlpPrice:S,btcPrice:t,ethPrice:n,mjlpPlusFees:q,mjlpPlusDistributedUsd:_,mjlpPlusDistributedEth:K,performanceLpEth:(S/L*100).toFixed(1),performanceLpEthCollectedFees:(q/L*100).toFixed(1),performanceLpEthDistributedUsd:(_/L*100).toFixed(1),performanceLpEthDistributedEth:(K/L*100).toFixed(1),performanceLpBtcCollectedFees:(q/I*100).toFixed(1),performanceSynthetic:(S/O*100).toFixed(1),performanceSyntheticCollectedFees:(q/O*100).toFixed(1),performanceSyntheticDistributedUsd:(_/O*100).toFixed(1),performanceSyntheticDistributedEth:(K/O*100).toFixed(1),mjlpApr:R})}return E},[a,i,e,t])]}(k,v,p),[I,N]=function({from:e=ge,to:t=Ce,chainName:n="avalanche"}={}){const[r,a,i]=je(`{\n    tradingStats(\n      first: 1000\n      orderBy: timestamp\n      orderDirection: desc\n      where: { period: "daily", timestamp_gte: ${e}, timestamp_lte: ${t} }\n    ) {\n      timestamp\n      profit\n      loss\n      profitCumulative\n      lossCumulative\n      longOpenInterest\n      shortOpenInterest\n    }\n  }`,{chainName:n}),[s]=Ie({from:e,to:t,chainName:n}),l=Object(o.useMemo)(()=>{if(!s||!r||r&&!r.tradingStats.length)return{};let e=0;return s.reduce((t,{timestamp:n,margin:r})=>(e+=r,t[n]={fees:r,feesCumulative:e},t),{})},[s]);let c=null;const p=r&&r.tradingStats.length>0?Object(se.sortBy)(r.tradingStats,e=>e.timestamp).map(e=>{var t,n;const r=e.longOpenInterest/1e30,a=e.shortOpenInterest/1e30,i=r+a,o=(null===(t=l[e.timestamp])||void 0===t||t.fees,null===(n=l[e.timestamp])||void 0===n||n.feesCumulative,e.profit/1e30),s=e.loss/1e30,c=e.profitCumulative/1e30,p=e.lossCumulative/1e30;return{longOpenInterest:r,shortOpenInterest:a,openInterest:i,profit:o,loss:-s,profitCumulative:c,lossCumulative:-p,pnl:o-s,pnlCumulative:c-p,timestamp:e.timestamp}}):null;if(p){const e=Object(se.maxBy)(p,e=>e.profit).profit,t=Object(se.minBy)(p,e=>e.loss).loss,n=Math.max(e,-t),r=Object(se.maxBy)(p,e=>e.pnl).pnl,a=Object(se.minBy)(p,e=>e.pnl).pnl,i=Object(se.maxBy)(p,e=>e.pnlCumulative).pnlCumulative,o=Object(se.minBy)(p,e=>e.pnlCumulative).pnlCumulative,s=p[p.length-1].profitCumulative,l=p[p.length-1].lossCumulative;c={data:p,stats:{maxProfit:e,maxLoss:t,maxProfitLoss:n,profitCumulative:s,lossCumulative:l,maxCumulativeProfitLoss:Math.max(s,-l),maxAbsOfPnlAndCumulativePnl:Math.max(Math.abs(r),Math.abs(i),Math.abs(a),Math.abs(o))}}}return[c,a]}(p),{0:J,1:G}=Object(o.useMemo)(()=>{var e,t;if(!I)return[];const n=null===(e=I.data[I.data.length-1])||void 0===e?void 0:e.openInterest;return[n,n-(null===(t=I.data[I.data.length-2])||void 0===t?void 0:t.openInterest)]},[I]),[H,V]=function({from:e=ge,to:t=Ce,chainName:n="avalanche"}={}){const r=`{\n    a: ${Se(0,e,t)}\n    b: ${Se(1e3,e,t)}\n    c: ${Se(2e3,e,t)}\n    d: ${Se(3e3,e,t)}\n    e: ${Se(4e3,e,t)}\n  }`,[a,i,s]=je(r,{chainName:n});return[Object(o.useMemo)(()=>{if(!a)return null;const{a:e,b:t,c:r,d:i,e:o}=a,s=[...e,...t,...r,...i,...o],l=e.reduce((e,t)=>{const r=Be[n][t.source]||t.source;return e[r]||(e[r]=0),e[r]+=t.swap/1e30,e},{}),c=new Set(Object.entries(l).sort((e,t)=>t[1]-e[1]).map(e=>e[0]).slice(0,30));return Object(se.chain)(s).groupBy(e=>86400*parseInt(e.timestamp/86400)).map((e,t)=>{let r=0;const a=Ae({timestamp:Number(t)},e.reduce((e,t)=>{let a=Be[n][t.source]||t.source;if(c.has(a)||(a="Other"),0!=t.swap){const n=t.swap/1e30;e[a]=e[a]||0,e[a]+=n,r+=n}return e},{}));return a.all=r,a}).sortBy(e=>e.timestamp).value()},[a]),i,s]}(p),X=Object.keys((H||[]).reduce((e,t)=>(Object.keys(t).forEach(t=>{"all"!==t&&"timestamp"!==t&&(e[t]=!0)}),e),{})),[Q,te]=function({from:e=ge,to:t=Ce,chainName:n="avalanche"}={}){const r=`{\n    userStats(\n      first: 1000\n      orderBy: timestamp\n      orderDirection: desc\n      where: { period: "daily", timestamp_gte: ${e}, timestamp_lte: ${t} }\n    ) {\n      uniqueCount\n      uniqueSwapCount\n      uniqueMarginCount\n      uniqueMintBurnCount\n      uniqueCountCumulative\n      uniqueSwapCountCumulative\n      uniqueMarginCountCumulative\n      uniqueMintBurnCountCumulative\n      actionCount\n      actionSwapCount\n      actionMarginCount\n      actionMintBurnCount\n      timestamp\n    }\n  }`,[a,i,o]=je(r,{chainName:n}),s={};return[a?Object(se.sortBy)(a.userStats,"timestamp").map(e=>{const t=["","Swap","Margin","MintBurn"].reduce((t,n)=>(t[`new${n}Count`]=s[n]?e[`unique${n}CountCumulative`]-s[n]:e[`unique${n}Count`],s[n]=e[`unique${n}CountCumulative`],t),{}),n=e.uniqueCount-t.newCount,r=(n/e.uniqueCount*100).toFixed(1);return Ae(Ae({all:e.uniqueCount,uniqueSum:e.uniqueSwapCount+e.uniqueMarginCount+e.uniqueMintBurnCount,oldCount:n,oldPercent:r},t),e)}):null,i,o]}(p),{0:re,1:ae}=Object(o.useMemo)(()=>{var e,t;if(!Q)return[null,null];const n=null===(e=Q[Q.length-1])||void 0===e?void 0:e.uniqueCountCumulative,r=null===(t=Q[Q.length-2])||void 0===t?void 0:t.uniqueCountCumulative;return[n,n&&r?n-r:null]},[Q]),[oe]=De(),[le]=Te(),ce=oe&&le&&le.timestamp-oe.timestamp>3600,{0:pe,1:de}=Object(o.useState)(!1);return Object(o.useEffect)(()=>{de(window.localStorage.getItem("experiment"))},[de]),Ne("div",{className:"Home"},Ne("h1",null,"Analytics / Avalanche"),oe&&le&&Ne("p",{className:A()("page-description",{warning:ce}),style:{marginTop:"-1rem"}},ce&&"Data is obsolete. ","Updated ",y()(1e3*oe.timestamp).fromNow(),"at block"," ",Ne("a",{target:"_blank",href:"https://snowtrace.io/block/"+oe.number},oe.number)),!1,Ne("div",{className:"chart-grid"},Ne("div",{className:"chart-cell stats"},f?Ne(s.a.Fragment,null,Ne("div",{className:"total-stat-label"},"Total Volume"),Ne("div",{className:"total-stat-value"},L(f,{currency:!0}),g&&Ne("span",{className:"total-stat-delta plus",title:"Change since previous day"},"+",L(g,{currency:!0,compact:!0})))):C?Ne(h.RiLoader5Fill,{size:"3em",className:"loader"}):Ne(s.a.Fragment,null,Ne("div",{className:"total-stat-label"},"Total Volume"),Ne("div",{className:"total-stat-value"},L(0,{currency:!0})))),Ne("div",{className:"chart-cell stats"},E?Ne(s.a.Fragment,null,Ne("div",{className:"total-stat-label"},"Total Fees"),Ne("div",{className:"total-stat-value"},L(E,{currency:!0}),Ne("span",{className:"total-stat-delta plus",title:"Change since previous day"},"+",L(B,{currency:!0,compact:!0})))):b?Ne(h.RiLoader5Fill,{size:"3em",className:"loader"}):Ne(s.a.Fragment,null,Ne("div",{className:"total-stat-label"},"Total Fees"),Ne("div",{className:"total-stat-value"},L(0,{currency:!0})))),Ne("div",{className:"chart-cell stats"},T?Ne(s.a.Fragment,null,Ne("div",{className:"total-stat-label"},"MJLP Pool"),Ne("div",{className:"total-stat-value"},L(T,{currency:!0}),Ne("span",{className:A()("total-stat-delta",D>0?"plus":"minus"),title:"Change since previous day"},D>0?"+":"",L(D,{currency:!0,compact:!0})))):Ne(h.RiLoader5Fill,{size:"3em",className:"loader"})),Ne("div",{className:"chart-cell stats"},re?Ne(s.a.Fragment,null,Ne("div",{className:"total-stat-label"},"Total Users"),Ne("div",{className:"total-stat-value"},L(re),Ne("span",{className:"total-stat-delta plus",title:"Change since previous day"},"+",L(ae)))):te?Ne(h.RiLoader5Fill,{size:"3em",className:"loader"}):Ne(s.a.Fragment,null,Ne("div",{className:"total-stat-label"},"Total Users"),Ne("div",{className:"total-stat-value"},L(0)))),Ne("div",{className:"chart-cell stats"},J?Ne(s.a.Fragment,null,Ne("div",{className:"total-stat-label"},"Open Interest"),Ne("div",{className:"total-stat-value"},L(J,{currency:!0}),Ne("span",{className:A()("total-stat-delta",G>0?"plus":"minus"),title:"Change since previous day"},G>0?"+":"",L(G,{currency:!0,compact:!0})))):N?Ne(h.RiLoader5Fill,{size:"3em",className:"loader"}):Ne(s.a.Fragment,null,Ne("div",{className:"total-stat-label"},"Open Interest"),Ne("div",{className:"total-stat-value"},L(0,{currency:!0})))),Ne("div",{className:"chart-cell"},Ne(ee,{data:u,loading:C,chartHeight:x,yaxisWidth:w,xaxisTickFormatter:R,yaxisTickFormatter:q,tooltipLabelFormatter:R,tooltipFormatter:z})),Ne("div",{className:"chart-cell"},Ne(ne,{data:v,loading:b,chartHeight:x,yaxisWidth:w,xaxisTickFormatter:R,yaxisTickFormatter:q,tooltipLabelFormatter:R,tooltipFormatter:z})),Ne("div",{className:"chart-cell"},Ne(Z,{title:"MJAR & Mjlp Supply",loading:j,data:k,csvFields:[{key:"aum"},{key:"mjlpSupply"}]},Ne(Y.ResponsiveContainer,{width:"100%",height:x},Ne(Y.LineChart,{data:k,syncId:"syncMjlp"},Ne(Y.CartesianGrid,{strokeDasharray:"10 10"}),Ne(Y.XAxis,{dataKey:"timestamp",tickFormatter:R,minTickGap:30}),Ne(Y.YAxis,{dataKey:"aum",tickFormatter:q,width:w}),Ne(Y.Tooltip,{formatter:U,labelFormatter:R,contentStyle:{textAlign:"left"}}),Ne(Y.Legend,null),Ne(Y.Line,{isAnimationActive:!1,type:"monotone",strokeWidth:2,unit:"$",dot:!1,dataKey:"aum",stackId:"a",name:"MJAR",stroke:F[0]}),Ne(Y.Line,{isAnimationActive:!1,type:"monotone",strokeWidth:2,dot:!1,dataKey:"mjlpSupply",stackId:"a",name:"MJLP Supply",stroke:F[1]}))))),Ne("div",{className:"chart-cell"},Ne(Z,{title:"Mjlp Performance",loading:j,data:P,csvFields:[{key:"syntheticPrice"},{key:"mjlpPrice"},{key:"mjlpPlusFees"},{key:"lpBtcPrice"},{key:"lpEthPrice"},{key:"performanceSyntheticCollectedFees"},{key:"indexBtcCount"},{key:"indexEthCount"},{key:"indexAvaxCount"},{key:"indexStableCount"},{key:"BTC_WEIGHT"},{key:"ETH_WEIGHT"},{key:"AVAX_WEIGHT"},{key:"STABLE_WEIGHT"}]},Ne(Y.ResponsiveContainer,{width:"100%",height:x},Ne(Y.LineChart,{data:P,syncId:"syncMjlp"},Ne(Y.CartesianGrid,{strokeDasharray:"10 10"}),Ne(Y.XAxis,{dataKey:"timestamp",tickFormatter:R,minTickGap:30}),Ne(Y.YAxis,{dataKey:"performanceSyntheticCollectedFees",domain:[80,180],unit:"%",tickFormatter:K,width:w}),Ne(Y.Tooltip,{formatter:U,labelFormatter:R,contentStyle:{textAlign:"left"}}),Ne(Y.Legend,null),Ne(Y.Line,{dot:!1,isAnimationActive:!1,type:"monotone",unit:"%",dataKey:"performanceLpBtcCollectedFees",name:"% LP BTC-USDC (w/ fees)",stroke:F[2]}),Ne(Y.Line,{dot:!1,isAnimationActive:!1,type:"monotone",unit:"%",dataKey:"performanceLpEthCollectedFees",name:"% LP ETH-USDC (w/ fees)",stroke:F[4]}),Ne(Y.Line,{dot:!1,isAnimationActive:!1,type:"monotone",unit:"%",dataKey:"performanceSyntheticCollectedFees",name:"% Index (w/ fees)",stroke:F[0]}))),Ne("div",{className:"chart-description"},Ne("p",null,Ne("span",{style:{color:F[0]}},"% of Index (with fees)")," ","is MJLP with fees / Index Price * 100. Index is a basket of 25% BTC, 25% ETH, 50% USDC rebalanced onceaday",Ne("br",null),Ne("span",{style:{color:F[4]}},"% of LP ETH-USDC (with fees)")," ","is MJLP Price with fees / LP ETH-USDC * 100",Ne("br",null))))),Ne("div",{className:"chart-cell"},Ne(Z,{title:"Mjlp Price Comparison",loading:j,data:P,csvFields:[{key:"syntheticPrice"},{key:"mjlpPrice"},{key:"mjlpPlusFees"},{key:"lpBtcPrice"},{key:"lpEthPrice"},{key:"performanceSyntheticCollectedFees"}]},Ne(Y.ResponsiveContainer,{width:"100%",height:x},Ne(Y.LineChart,{data:P,syncId:"syncMjlp"},Ne(Y.CartesianGrid,{strokeDasharray:"10 10"}),Ne(Y.XAxis,{dataKey:"timestamp",tickFormatter:R,minTickGap:30}),Ne(Y.YAxis,{dataKey:"performanceSyntheticCollectedFees",domain:[60,210],unit:"%",tickFormatter:K,width:w}),Ne(Y.YAxis,{dataKey:"mjlpPrice",domain:[.4,1.7],orientation:"right",yAxisId:"right",tickFormatter:K,width:w}),Ne(Y.Tooltip,{formatter:U,labelFormatter:R,contentStyle:{textAlign:"left"}}),Ne(Y.Legend,null),Ne(Y.Line,{dot:!1,isAnimationActive:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceLpBtcCollectedFees",name:"% LP BTC-USDC (w/ fees)",stroke:F[2]}),Ne(Y.Line,{dot:!1,isAnimationActive:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceLpEthCollectedFees",name:"% LP ETH-USDC (w/ fees)",stroke:F[4]}),Ne(Y.Line,{dot:!1,isAnimationActive:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceSyntheticCollectedFees",name:"% Index (w/ fees)",stroke:F[0]}),Ne(Y.Line,{isAnimationActive:!1,type:"monotone",unit:"$",strokeWidth:1,yAxisId:"right",dot:!1,dataKey:"syntheticPrice",name:"Index Price",stroke:F[2]}),Ne(Y.Line,{isAnimationActive:!1,type:"monotone",unit:"$",strokeWidth:1,yAxisId:"right",dot:!1,dataKey:"mjlpPrice",name:"Mjlp Price",stroke:F[1]}),Ne(Y.Line,{isAnimationActive:!1,type:"monotone",unit:"$",strokeWidth:1,yAxisId:"right",dot:!1,dataKey:"mjlpPlusFees",name:"Mjlp w/ fees",stroke:F[3]}),Ne(Y.Line,{isAnimationActive:!1,type:"monotone",unit:"$",strokeWidth:1,yAxisId:"right",dot:!1,dataKey:"lpBtcPrice",name:"LP BTC-USDC",stroke:F[2]}),Ne(Y.Line,{isAnimationActive:!1,type:"monotone",unit:"$",strokeWidth:1,yAxisId:"right",dot:!1,dataKey:"lpEthPrice",name:"LP ETH-USDC",stroke:F[4]}))),Ne("div",{className:"chart-description"},Ne("p",null,Ne("span",{style:{color:F[3]}},"Mjlp with fees")," is based on MJLP share of fees received and excluding esMJAR rewards",Ne("br",null),Ne("span",{style:{color:F[0]}},"% of Index (with fees)")," ","is Mjlp with fees / Index Price * 100",Ne("br",null),Ne("span",{style:{color:F[4]}},"% of LP ETH-USDC (with fees)")," ","is Mjlp Price with fees / LP ETH-USDC * 100",Ne("br",null),Ne("span",{style:{color:F[2]}},"Index Price")," is 25% BTC, 25% ETH, 50% USDC")))),pe&&Ne("div",{className:"chart-cell experiment"},Ne(Z,{title:"Performance vs. Index",loading:j},Ne(Y.ResponsiveContainer,{width:"100%",height:x},Ne(Y.LineChart,{data:P,syncId:"syncMjlp"},Ne(Y.CartesianGrid,{strokeDasharray:"10 10"}),Ne(Y.XAxis,{dataKey:"timestamp",tickFormatter:R,minTickGap:30}),Ne(Y.YAxis,{dataKey:"performanceSyntheticCollectedFees",domain:[80,120],unit:"%",tickFormatter:K,width:w}),Ne(Y.Tooltip,{formatter:U,labelFormatter:R,contentStyle:{textAlign:"left"}}),Ne(Y.Legend,null),Ne(Y.Line,{isAnimationActive:!1,dot:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceSyntheticCollectedFees",name:"Collected Fees",stroke:F[0]}),Ne(Y.Line,{isAnimationActive:!1,dot:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceSyntheticDistributedUsd",name:"Distributed Usd",stroke:F[1]}),Ne(Y.Line,{isAnimationActive:!1,dot:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceSyntheticDistributedEth",name:"Distributed Eth",stroke:F[2]}),Ne(Y.Line,{isAnimationActive:!1,dot:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceSynthetic",name:"No Fees",stroke:F[3]}))))),pe&&Ne("div",{className:"chart-cell experiment"},Ne(Z,{title:"Performance vs. ETH LP",loading:j},Ne(Y.ResponsiveContainer,{width:"100%",height:x},Ne(Y.LineChart,{data:P,syncId:"syncMjlp"},Ne(Y.CartesianGrid,{strokeDasharray:"10 10"}),Ne(Y.XAxis,{dataKey:"timestamp",tickFormatter:R,minTickGap:30}),Ne(Y.YAxis,{dataKey:"performanceLpEthCollectedFees",domain:[80,120],unit:"%",tickFormatter:K,width:w}),Ne(Y.Tooltip,{formatter:U,labelFormatter:R,contentStyle:{textAlign:"left"}}),Ne(Y.Legend,null),Ne(Y.Line,{isAnimationActive:!1,dot:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceLpEthCollectedFees",name:"Collected Fees",stroke:F[0]}),Ne(Y.Line,{isAnimationActive:!1,dot:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceLpEthDistributedUsd",name:"Distributed Usd",stroke:F[1]}),Ne(Y.Line,{isAnimationActive:!1,dot:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceLpEthDistributedEth",name:"Distributed Eth",stroke:F[2]}),Ne(Y.Line,{isAnimationActive:!1,dot:!1,type:"monotone",unit:"%",strokeWidth:2,dataKey:"performanceLpEth",name:"No Fees",stroke:F[3]}))))),Ne("div",{className:"chart-cell"},Ne(Z,{title:"Traders Net PnL",loading:N,data:null==I?void 0:I.data,csvFields:[{key:"pnl",name:"Net PnL"},{key:"pnlCumulative",name:"Cumulative PnL"}]},Ne(Y.ResponsiveContainer,{width:"100%",syncId:"tradersId",height:x},Ne(Y.ComposedChart,{data:null==I?void 0:I.data},Ne(Y.CartesianGrid,{strokeDasharray:"10 10"}),Ne(Y.XAxis,{dataKey:"timestamp",tickFormatter:R,minTickGap:30}),Ne(Y.YAxis,{domain:[1.05*-(null==I?void 0:I.stats.maxAbsOfPnlAndCumulativePnl),1.05*(null==I?void 0:I.stats.maxAbsOfPnlAndCumulativePnl)],tickFormatter:q,width:w}),Ne(Y.Tooltip,{formatter:z,labelFormatter:R,contentStyle:{textAlign:"left"}}),Ne(Y.Legend,null),Ne(Y.Bar,{type:"monotone",fill:"dark"==c?"#FFFFFF":"#000000",dot:!1,dataKey:"pnl",name:"Net PnL"},((null==I?void 0:I.data)||[]).map((e,t)=>Ne(Y.Cell,{key:"cell-"+t,fill:e.pnl>0?"#22c761":"#f93333"}))),Ne(Y.Line,{type:"monotone",strokeWidth:2,stroke:F[4],dataKey:"pnlCumulative",name:"Cumulative PnL"}))),Ne("div",{className:"chart-description"},Ne("p",null,"Considers settled (closed) positions"),Ne("p",null,"Fees are not factored into PnL")))),Ne("div",{className:"chart-cell"},Ne(Z,{title:"Traders Profit vs. Loss",loading:N,data:null==I?void 0:I.data,csvFields:[{key:"profit"},{key:"loss"},{key:"profitCumulative"},{key:"lossCumulative"}]},Ne(Y.ResponsiveContainer,{width:"100%",syncId:"tradersId",height:x},Ne(Y.ComposedChart,{data:null==I?void 0:I.data,barGap:0},Ne(Y.CartesianGrid,{strokeDasharray:"10 10"}),Ne(Y.XAxis,{dataKey:"timestamp",tickFormatter:R,minTickGap:30}),Ne(Y.YAxis,{domain:[1.05*-(null==I?void 0:I.stats.maxProfitLoss),1.05*(null==I?void 0:I.stats.maxProfitLoss)],tickFormatter:q,width:w}),Ne(Y.YAxis,{domain:[1.1*-(null==I?void 0:I.stats.maxCumulativeProfitLoss),1.1*(null==I?void 0:I.stats.maxCumulativeProfitLoss)],orientation:"right",yAxisId:"right",tickFormatter:q,width:w}),Ne(Y.Tooltip,{formatter:z,labelFormatter:R,contentStyle:{textAlign:"left"}}),Ne(Y.Legend,null),Ne(Y.Area,{yAxisId:"right",type:"monotone",stroke:0,fill:"#22c761",fillOpacity:"0.4",dataKey:"profitCumulative",name:"Cumulative Profit"}),Ne(Y.Area,{yAxisId:"right",type:"monotone",stroke:0,fill:"#f93333",fillOpacity:"0.4",dataKey:"lossCumulative",name:"Cumulative Loss"}),Ne(Y.Bar,{type:"monotone",fill:"#22c761",dot:!1,dataKey:"profit",name:"Profit"}),Ne(Y.Bar,{type:"monotone",fill:"#f93333",dot:!1,dataKey:"loss",name:"Loss"}))),Ne("div",{className:"chart-description"},Ne("p",null,"Considers settled (closed) positions"),Ne("p",null,"Fees are not factored into PnL")))),Ne("div",{className:"chart-cell"},Ne(ie,{loading:m,title:"Borrowing Rate Annualized",data:d,yaxisDataKey:"ETH",yaxisTickFormatter:_,tooltipFormatter:$,items:[{key:"AVAX",color:"#cc3322"},{key:"ETH",color:"#6185F5"},{key:"BTC",color:"#F7931A"},{key:"USDC",color:"#2775CA"},{key:"USDT",color:"#67B18A"},{key:"DAI",color:"#FAC044"}],type:"Line",yaxisDomain:[0,90],isCoinChart:!0})),Ne("div",{className:"chart-cell"},Ne(ie,{loading:N,title:"Open Interest",data:null==I?void 0:I.data.map(e=>_e({all:e.openInterest},e)),yaxisDataKey:"openInterest",items:[{key:"shortOpenInterest",name:"Short",color:"#f93333"},{key:"longOpenInterest",name:"Long",color:"#22c761"}],type:"Bar"})),Ne("div",{className:"chart-cell"},Ne(ie,{syncId:"syncMjlp",loading:M,title:"MJAR Performance Annualized",data:S,yaxisDataKey:"apr",yaxisTickFormatter:_,tooltipFormatter:$,items:[{key:"apr",name:"APR",color:F[0]}],description:"Formula = Daily Fees / MJLP Pool * 365 days * 100",type:"Composed"})),Ne("div",{className:"chart-cell"},Ne(ie,{syncId:"syncMjlp",loading:M,title:"MJAR Daily Usage",data:S,yaxisDataKey:"usage",yaxisTickFormatter:_,tooltipFormatter:$,items:[{key:"usage",name:"Daily Usage",color:F[4]}],description:"Formula = Daily Volume / MJLP Pool * 100",type:"Composed"})),Ne("div",{className:"chart-cell"},Ne(ie,{syncId:"syncMjlp",loading:te,title:"Unique Users",data:Q,yaxisDataKey:"uniqueSum",yaxisTickFormatter:K,tooltipFormatter:U,tooltipLabelFormatter:W,items:[{key:"uniqueSwapCount",name:"Swaps"},{key:"uniqueMarginCount",name:"Margin trading"},{key:"uniqueMintBurnCount",name:"Mint & Burn MJLP"}],type:"Composed"})),Ne("div",{className:"chart-cell"},Ne(ie,{syncId:"syncMjlp",loading:te,title:"New Users",data:null==Q?void 0:Q.map(e=>_e(_e({},e),{},{all:e.newCount})),yaxisDataKey:"newCount",rightYaxisDataKey:"uniqueCountCumulative",yaxisTickFormatter:K,tooltipFormatter:U,tooltipLabelFormatter:W,items:[{key:"newSwapCount",name:"Swap"},{key:"newMarginCount",name:"Margin trading"},{key:"newMintBurnCount",name:"Mint & Burn"},{key:"uniqueCountCumulative",name:"Cumulative",type:"Line",yAxisId:"right",strokeWidth:2,color:F[4]}],type:"Composed"})),Ne("div",{className:"chart-cell"},Ne(ie,{syncId:"syncMjlp",loading:te,title:"New vs. Existing Users",data:null==Q?void 0:Q.map(e=>_e(_e({},e),{},{all:e.uniqueCount})),yaxisDataKey:"uniqueCount",rightYaxisDataKey:"oldPercent",yaxisTickFormatter:K,tooltipFormatter:U,tooltipLabelFormatter:W,items:[{key:"newCount",name:"New"},{key:"oldCount",name:"Existing"},{key:"oldPercent",name:"Existing %",yAxisId:"right",type:"Line",strokeWidth:2,color:F[4],unit:"%"}],type:"Composed"})),Ne("div",{className:"chart-cell"},Ne(ie,{syncId:"syncMjlp",loading:te,title:"User Actions",data:(Q||[]).map(e=>_e(_e({},e),{},{all:e.actionCount})),yaxisDataKey:"actionCount",yaxisTickFormatter:K,tooltipFormatter:U,tooltipLabelFormatter:W,items:[{key:"actionSwapCount",name:"Swaps"},{key:"actionMarginCount",name:"Margin trading"},{key:"actionMintBurnCount",name:"Mint & Burn MJLP"}],type:"Composed"})),Ne("div",{className:"chart-cell"},Ne(ie,{loading:V,title:"Swap Sources",data:H,items:X.map(e=>({key:e}))}))))},We=s.a.createElement;function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ge=Math.floor(Date.now()/1e3);var He=function(e){var t,n;const{0:r,1:a}=Object(o.useState)(),{0:i,1:l}=Object(o.useState)(),c={from:r?+new Date(r)/1e3:void 0,to:i?+new Date(i)/1e3:Ge,chainName:(null===(t=e.match)||void 0===t||null===(n=t.params)||void 0===n?void 0:n.chainName)||"avalanche"},[p,d]=function({from:e=ge,to:t=Ce,chainName:n="avalanche"}={}){const r=`{\n    globalStats(\n      first: 1000\n      orderBy: timestamp\n      orderDirection: desc\n      where: { period: "daily", timestamp_gte: ${e}, timestamp_lte: ${t} }\n    ) {\n      volume\n      volumeCumulative\n      totalRebateUsd\n      totalRebateUsdCumulative\n      discountUsd\n      discountUsdCumulative\n      referrersCount\n      referrersCountCumulative\n      referralCodesCount\n      referralCodesCountCumulative\n      referralsCount\n      referralsCountCumulative\n      timestamp\n    }\n  }`,a=process.env.RAZZLE_REFERRAL_SUBGRAPH_URL,[i,o,s]=je(r,{subgraph:a});return[i?Object(se.sortBy)(i.globalStats,"timestamp").map(e=>{const t=e.totalRebateUsd/1e30,n=e.discountUsd/1e30;return Ae(Ae({},e),{},{volume:e.volume/1e30,volumeCumulative:e.volumeCumulative/1e30,totalRebateUsd:t,totalRebateUsdCumulative:e.totalRebateUsdCumulative/1e30,discountUsd:n,referrerRebateUsd:t-n,discountUsdCumulative:e.discountUsdCumulative/1e30,referralCodesCount:parseInt(e.referralCodesCount),referralCodesCountCumulative:parseInt(e.referralCodesCountCumulative),referrersCount:parseInt(e.referrersCount),referrersCountCumulative:parseInt(e.referrersCountCumulative),referralsCount:parseInt(e.referralsCount),referralsCountCumulative:parseInt(e.referralsCountCumulative)})}):null,o,s]}(c),m=Object(o.useMemo)(()=>{var e,t,n,r,a,i,o,s,l,c;if(!p)return null;const d=null===(e=p[p.length-1])||void 0===e?void 0:e.volumeCumulative,m=null===(t=p[p.length-2])||void 0===t?void 0:t.volumeCumulative,u=d&&m?d-m:null,A=null===(n=p[p.length-1])||void 0===n?void 0:n.discountUsdCumulative,f=null===(r=p[p.length-2])||void 0===r?void 0:r.discountUsdCumulative,y=A&&f?A-f:null,h=null===(a=p[p.length-1])||void 0===a?void 0:a.discountUsdCumulative,C=null===(i=p[p.length-2])||void 0===i?void 0:i.discountUsdCumulative,g=h&&C?h-C:null,v=null===(o=p[p.length-1])||void 0===o?void 0:o.referrersCountCumulative,b=null===(s=p[p.length-2])||void 0===s?void 0:s.referrersCountCumulative,E=v&&b?v-b:null,B=null===(l=p[p.length-1])||void 0===l?void 0:l.referralsCountCumulative,k=null===(c=p[p.length-2])||void 0===c?void 0:c.referralsCountCumulative;return{totalVolume:d,totalVolumeDelta:u,totalDiscountUsd:A,totalDiscountUsdDelta:y,totalReferrerRebateUsd:h,totalReferrerRebateUsdDelta:g,totalReferrersCount:v,totalReferrersCountDelta:E,totalReferralsCount:B,totalReferralsCountDelta:B&&k?B-k:null}},[p]),[u]=De(),[f]=Te(),C=u&&f&&f.timestamp-u.timestamp>3600,{0:g,1:v}=Object(o.useState)(!1);return Object(o.useEffect)(()=>{v(window.localStorage.getItem("experiment"))},[v]),We("div",{className:"Home"},We("h1",null,"Analytics / Referrals"),u&&f&&We("p",{className:A()("page-description",{warning:C}),style:{marginTop:"-1rem"}},C&&"Data is obsolete. ","Updated ",y()(1e3*u.timestamp).fromNow(),"at block ",We("a",{target:"_blank",rel:"noreferrer",href:"https://arbiscan.io/block/"+u.number},u.number)),We("div",{className:"chart-grid"},We("div",{className:"chart-cell stats"},m?We(s.a.Fragment,null,We("div",{className:"total-stat-label"},"Referral Volume"),We("div",{className:"total-stat-value"},L(m.totalVolume,{currency:!0}),m.totalVolumeDelta&&We("span",{className:"total-stat-delta plus",title:"Change since previous day"},"+",L(m.totalVolumeDelta,{currency:!0,compact:!0})))):We(h.RiLoader5Fill,{size:"3em",className:"loader"})),We("div",{className:"chart-cell stats"},m?We(s.a.Fragment,null,We("div",{className:"total-stat-label"},"Traders Rebates"),We("div",{className:"total-stat-value"},L(m.totalDiscountUsd,{currency:!0}),m.totalDiscountUsdDelta&&We("span",{className:"total-stat-delta plus",title:"Change since previous day"},"+",L(m.totalDiscountUsdDelta,{currency:!0,compact:!0})))):We(h.RiLoader5Fill,{size:"3em",className:"loader"})),We("div",{className:"chart-cell stats"},m?We(s.a.Fragment,null,We("div",{className:"total-stat-label"},"Affiliates Rebates"),We("div",{className:"total-stat-value"},L(m.totalReferrerRebateUsd,{currency:!0}),m.totalReferrerRebateUsdDelta&&We("span",{className:"total-stat-delta plus",title:"Change since previous day"},"+",L(m.totalReferrerRebateUsdDelta,{currency:!0,compact:!0})))):We(h.RiLoader5Fill,{size:"3em",className:"loader"})),We("div",{className:"chart-cell stats"},m?We(s.a.Fragment,null,We("div",{className:"total-stat-label"},"Affiliates Registered"),We("div",{className:"total-stat-value"},m.totalReferrersCount,m.totalReferrersCountDelta?We("span",{className:"total-stat-delta plus",title:"Change since previous day"},"+",m.totalReferrersCountDelta):null)):We(h.RiLoader5Fill,{size:"3em",className:"loader"})),We("div",{className:"chart-cell stats"},m?We(s.a.Fragment,null,We("div",{className:"total-stat-label"},"Referrals Registrations"),We("div",{className:"total-stat-value"},m.totalReferralsCount,m.totalReferralsCountDelta?We("span",{className:"total-stat-delta plus",title:"Change since previous day"},"+",m.totalReferralsCountDelta):null)):We(h.RiLoader5Fill,{size:"3em",className:"loader"})),We("div",{className:"chart-cell"},We(ie,{syncId:"syncMjlp",loading:d,title:"Referrals Volume",data:p,yaxisDataKey:"volume",rightYaxisDataKey:"volumeCumulative",yaxisTickFormatter:K,tooltipFormatter:U,tooltipLabelFormatter:W,items:[{key:"volume",name:"Daily",unit:"$"},{key:"volumeCumulative",name:"Cumulative",type:"Line",yAxisId:"right",strokeWidth:2,color:F[4],unit:"$"}],type:"Composed",description:"Volume generated by registered referrals"})),We("div",{className:"chart-cell"},We(ie,{syncId:"syncMjlp",loading:d,title:"Referrals Rebates",data:null==p?void 0:p.map(e=>function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){Ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({all:e.totalRebateUsd.toFixed(2)},e)),yaxisDataKey:"totalRebateUsd",yaxisTickFormatter:K,tooltipFormatter:U,tooltipLabelFormatter:W,items:[{key:"discountUsd",name:"Discount",unit:"$"},{key:"referrerRebateUsd",name:"Rebates",unit:"$"}],type:"Bar",description:"Rebates go to Affiliates, Discount go to Traders"})),We("div",{className:"chart-cell"},We(ie,{syncId:"syncMjlp",loading:d,title:"Registered Affiliates",data:p,yaxisDataKey:"referrersCount",rightYaxisDataKey:"referrersCountCumulative",yaxisTickFormatter:K,tooltipFormatter:U,tooltipLabelFormatter:W,items:[{key:"referrersCount",type:"Bar",name:"Daily"},{key:"referrersCountCumulative",strokeWidth:2,yAxisId:"right",type:"Line",name:"Cumulative Affiliates",color:F[4]}],type:"Composed"})),We("div",{className:"chart-cell"},We(ie,{syncId:"syncMjlp",loading:d,title:"Referrals Registrations",data:p,yaxisDataKey:"referralsCount",rightYaxisDataKey:"referralsCountCumulative",yaxisTickFormatter:K,tooltipFormatter:U,tooltipLabelFormatter:W,items:[{key:"referralsCount",type:"Bar",name:"Daily"},{key:"referralsCountCumulative",strokeWidth:2,yAxisId:"right",type:"Line",name:"Cumulative Referrals",color:F[4]}],type:"Composed",description:"Traders registrations with referral code"}))))},Ve=s.a.createElement;function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{BigNumber:et}=i,{formatUnits:tt}=i.utils;var nt=function(){const{0:e,1:t}=Object(o.useState)((n=Date.now()-2592e5,new Date(n-6e4*(new Date).getTimezoneOffset()).toISOString().slice(0,-5)));var n;const{0:r,1:a}=Object(o.useState)(),i=+new Date(e)/1e3,l=null!=r?r:+new Date(r)/1e3,c={from:i,to:l},[p]=xe(J("/api/prices/BTC",c),[]),[d]=xe(J("/api/prices/ETH",c),[]),[m]=xe(J("/api/prices/BNB",c),[]),u=Object(o.useMemo)(()=>{const e={};return[["BTC",p],["ETH",d],["BNB",m]].forEach(([t,n])=>{if(!n||0===n.length)return;let r=0,a=1/0;e[t]={data:n.map(e=>{const t=e.price/1e8;return t>r&&(r=t),t<a&&(a=t),{date:new Date(1e3*e.timestamp),price:t,poolAmount:e.poolAmount}})},e[t].maxPrice=r,e[t].minPrice=a}),e},[p,d,m]),[A]=xe(J("/api/marginPnl",c),[]),f=Object(o.useMemo)(()=>A.map(e=>e.metrics?{date:new Date(1e3*e.timestamp),net:e.metrics.net,profits:e.metrics.profits,loss:e.metrics.loss,long:e.metrics.long,short:e.metrics.short}:{date:new Date(1e3*e.timestamp)}),[A]),y=f.length?f[f.length-1].loss:0,h=f.length?f[f.length-1].profits:0,[C]=xe(J("api/liquidations",{from:i,to:l}),[]),g=Object(o.useMemo)(()=>{let e=0,t=0,n=0;return C.map(r=>{const a=r.collateral||0;return e+=a,r.isLong?t+=a:n+=a,{date:new Date(1e3*r.timestamp),collateral:e,long:t,short:n}})},[C]),[v]=xe(J("/api/fees",Ze({disableGrouping:1},c)),[]),b=Object(o.useMemo)(()=>{const e={};return v.map(t=>{e[t.type]=(e[t.type]||0)+t.value;const n=Object.values(e).reduce((e,t)=>e+t);return Ze(Ze({},e),{},{all:n,date:new Date(1e3*t.timestamp)})})},[v]),[E]=xe(J("/api/swapSources",Ze({period:3600,rawSource:1},c)),[]),B=Object(o.useMemo)(()=>{if(0===E.length)return[];const e={};return E.forEach(t=>{t.metrics&&Object.keys(t.metrics).forEach(t=>{e[t]=(e[t]||0)+1})}),Object.keys(e).filter(t=>e[t]>1)},[E]),k=Object(o.useMemo)(()=>{if(0===B.length)return[];let e={};return E.map(t=>{let n=0;return B.forEach(r=>{t.metrics&&t.metrics[r]&&(e[r]=(e[r]||0)+t.metrics[r],n+=e[r])}),Ze({date:new Date(1e3*t.timestamp),all:n},e)})},[E,B]),x=["red","green","blue","lightblue","purple","pink","brown","orange"];return Ve(s.a.Fragment,null,Ve("div",null,Ve("p",null,Ve("label",null,"From"),Ve("input",{type:"datetime-local",value:e,onChange:e=>t(e.target.value)})),Ve("p",null,Ve("label",null,"To"),Ve("input",{type:"datetime-local",value:r,onChange:e=>a(e.target.value)}))),Object.entries(u).map(([e,{data:t,maxPrice:n,minPrice:r}])=>Ve("div",{key:e},Ve("h2",null,e),Ve(Y.ResponsiveContainer,{width:"100%",height:600},Ve(Y.ComposedChart,{data:t},Ve(Y.CartesianGrid,{strokeDasharray:"10 10"}),Ve(Y.XAxis,{dataKey:"date"}),Ve(Y.YAxis,{yAxisId:"left",dataKey:"price",domain:[Math.round(.99*r),Math.round(1.01*n)]}),Ve(Y.YAxis,{yAxisId:"right",orientation:"right",dataKey:"poolAmount"}),Ve(Y.Tooltip,null),Ve(Y.Legend,null),Ve(Y.Area,{isAnimationActive:!1,strokeWidth:0,yAxisId:"right",dataKey:"poolAmount",name:"Pool",dot:!1,fill:"#627EEA"}),Ve(Y.Line,{isAnimationActive:!1,yAxisId:"left",dataKey:"price",name:"Chainlink Price",dot:!1,stroke:"#666",strokeWidth:2}))))),Ve("h2",null,"Liquidated Collateral"),Ve(Y.ResponsiveContainer,{width:"100%",height:600},Ve(Y.ComposedChart,{data:g},Ve(Y.CartesianGrid,{strokeDasharray:"10 10"}),Ve(Y.XAxis,{dataKey:"date"}),Ve(Y.YAxis,{dataKey:"collateral"}),Ve(Y.Tooltip,null),Ve(Y.Legend,null),Ve(Y.Area,{isAnimationActive:!1,stackId:"a",dataKey:"long",name:"Long",dot:!1,strokeWidth:0,stroke:"purple",fill:"purple"}),Ve(Y.Area,{isAnimationActive:!1,stackId:"a",dataKey:"short",name:"Short",dot:!1,stroke:"green",strokeWidth:0,fill:"green"}),Ve(Y.Line,{isAnimationActive:!1,dataKey:"collateral",name:"All",dot:!1,stroke:"black",strokeWidth:2}))),Ve("h2",null,"Global PnL"),Ve(Y.ResponsiveContainer,{width:"100%",height:600},Ve(Y.ComposedChart,{data:f},Ve(Y.CartesianGrid,{strokeDasharray:"10 10"}),Ve(Y.XAxis,{dataKey:"date"}),Ve(Y.YAxis,{domain:[1.5*y,.5*h]}),Ve(Y.Tooltip,null),Ve(Y.Legend,null),Ve(Y.Area,{isAnimationActive:!1,dataKey:"profits",name:"Profits",dot:!1,strokeWidth:0,fill:"lightblue"}),Ve(Y.Area,{isAnimationActive:!1,dataKey:"loss",name:"Loss",dot:!1,stroke:"pink",strokeWidth:0,fill:"pink"}),Ve(Y.Line,{isAnimationActive:!1,dataKey:"net",name:"Net",dot:!1,stroke:"#000",strokeWidth:2}),Ve(Y.Line,{isAnimationActive:!1,dataKey:"long",name:"Longs Net",dot:!1,stroke:"green",strokeWidth:1}),Ve(Y.Line,{isAnimationActive:!1,dataKey:"short",name:"Shorts Net",dot:!1,stroke:"red",strokeWidth:1}))),Ve("h2",null,"Fees"),Ve(Y.ResponsiveContainer,{width:"100%",height:600},Ve(Y.ComposedChart,{syncId:"syncId",data:b},Ve(Y.CartesianGrid,{strokeDasharray:"10 10"}),Ve(Y.XAxis,{dataKey:"date",minTickGap:30}),Ve(Y.YAxis,{dataKey:"all"}),Ve(Y.Tooltip,null),Ve(Y.Legend,null),Ve(Y.Area,{type:"monotone",dot:!1,dataKey:"swap",stackId:"a",name:"Swap",stroke:"#FE88B1",fill:"#FE88B1"}),Ve(Y.Area,{type:"monotone",dot:!1,dataKey:"mint",stackId:"a",name:"Mint USDG",stroke:"#C9DB74",fill:"#C9DB74"}),Ve(Y.Area,{type:"monotone",dot:!1,dataKey:"burn",stackId:"a",name:"Burn USDG",stroke:"#ab6100",fill:"#ab6100"}),Ve(Y.Area,{type:"monotone",dot:!1,dataKey:"liquidation",stackId:"a",name:"Liquidation",stroke:"#c90000",fill:"#c90000"}),Ve(Y.Area,{type:"monotone",dot:!1,dataKey:"margin",stackId:"a",name:"Margin trading",stroke:"#5D69B1",fill:"#5D69B1"}),Ve(Y.Line,{isAnimationActive:!1,dot:!1,dataKey:"all",name:"Total",stroke:"#000"}))),Ve("h2",null,"Swap volumes by recipient"),Ve(Y.ResponsiveContainer,{width:"100%",height:600},Ve(Y.LineChart,{syncId:"syncId",data:k},Ve(Y.CartesianGrid,{strokeDasharray:"10 10"}),Ve(Y.XAxis,{dataKey:"date",minTickGap:30}),Ve(Y.YAxis,{dataKey:"all"}),Ve(Y.Tooltip,null),Ve(Y.Legend,null),B.map((e,t)=>Ve(Y.Line,{dataKey:e,dot:!1,stroke:x[t%x.length]})))))},rt=(n(38),n(11)),at=n.n(rt),it=n(34),ot=n(35),st=s.a.createElement;function lt(){return(lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ct({mode:e,small:t,clickCloseIcon:n}){return st("div",{className:"App-header-links"},t&&st("div",{className:"App-header-links-header"},st("div",{className:"App-header-menu-icon-block",onClick:()=>n()},st(ot.FiX,{className:"App-header-menu-icon"})),st(l.NavLink,{exact:!0,activeClassName:"active",className:"App-header-link-main",to:"/"},st("img",{src:at.a,alt:"MJAR Logo",style:{width:"40px",height:"40px"}}))),st("div",{className:"App-header-link-container"},st(l.NavLink,{to:"/",exact:!0,className:"nav-link",activeClassName:"active"},"Avalanche")))}var pt=()=>{const{0:e,1:t}=Object(o.useState)(null),{0:n,1:r}=Object(o.useState)(void 0);return Object(o.useEffect)(()=>{const e="light"==window.localStorage.getItem("mode")?"light":"dark";document.querySelector("body").style.backgroundColor="dark"==e?"#000000":"#f6f9ff",t(e)},[]),st(l.Switch,null,e&&st("div",{className:A()("App",e)},n&&st(m.AnimatePresence,null,n&&st(m.motion.div,{className:"App-header-backdrop",initial:"hidden",animate:"visible",exit:"hidden",variants:{hidden:{opacity:0},visible:{opacity:1}},transition:{duration:.2},onClick:()=>r(!n)})),st("div",{className:"nav"},st("div",{className:"nav-left"},st("div",{className:"App-header-menu-icon-block",onClick:()=>r(!n)},!n&&st(h.RiMenuLine,{className:"App-header-menu-icon"}),n&&st(it.FaTimes,{className:"App-header-menu-icon"})),st("a",{href:"https://masonjar.finance",target:"_blank",rel:"noreferrer",className:"nav-logo",style:{textDecoration:"none",alignItems:"center"}},st("img",{style:{width:"40px",height:"40px"},src:at.a}),st("p",{style:{textDecoration:"none",fontSize:"1.3rem",fontWeight:"40px"}},"Mason Jar"))),st("div",{className:"nav-right"},st("a",{href:"https://docs.masonjar.finance",target:"_blank",rel:"noreferrer",className:"nav-link"},"Docs"),st("a",{href:"https://masonjar.finance",target:"_blank",rel:"noreferrer",className:"nav-link"},"Launch App"))),st(m.AnimatePresence,null,n&&st(m.motion.div,{onClick:()=>r(!1),className:"App-header-links-container App-header-drawer",initial:"hidden",animate:"visible",exit:"hidden",variants:{hidden:{x:"-100%"},visible:{x:0}},transition:{duration:.2}},st(ct,{mode:e,small:!0,clickCloseIcon:()=>r(!1)}))),st("div",{className:"content"},st(l.Route,{exact:!0,path:"/",render:t=>st(ze,lt({},t,{mode:e}))}),st(l.Route,{exact:!0,path:"/referrals/:chainName",render:t=>st(He,lt({},t,{mode:e}))}),st(l.Route,{exact:!0,path:"/trading",component:nt}))))},dt=s.a.createElement;const mt=n(39),{formatUnits:ut}=i.ethers.utils,At=T("routes"),ft=new oe.ApolloClient({link:new oe.HttpLink({uri:process.env.RAZZLE_SUBGRAPH_URL,fetch:d.a}),cache:new oe.InMemoryCache,defaultOptions:{query:{fetchPolicy:"no-cache"},watchQuery:{fetchPolicy:"no-cache"}}}),yt={sorted:{10:{}},byKey:{10:{}}};function ht(e,t,n){if(!e||!t||!n)throw new Error("Invalid arguments");const r="chainlinkPrices"===n?1e8:1e30,a=new Set([]),i=yt.byKey;i[t][n]=i[t][n]||{};for(const o of e){const e=o.token.toLowerCase(),s=o.timestamp;i[t][n][e]=i[t][n][e]||{},i[t][n][e][s]=Number(o.value)/r,a.add(e)}const o=yt.sorted;o[t][n]=o[t][n]||{};for(const e of a)o[t][n][e]=Object.entries(i[t][n][e]).map(([e,t])=>[Number(e),t]).sort((e,t)=>e[0]-t[0]);return!0}const Ct=new class{constructor(e=60,t){this._cache={},this._ttl=e,this._maxKeys=t,this._logger=T("routes.TtlCache")}get(e){return this._logger.debug("get key %s",e),this._cache[e]}set(e,t){this._cache[e]=t;const n=Object.keys(this._cache);if(this._maxKeys&&n.length>=this._maxKeys)for(let t=0;t<=n.length-this._maxKeys;t++)this._logger.debug("delete key %s (max keys)",e),delete this._cache[n[t]];setTimeout(()=>{this._logger.debug("delete key %s (ttl)",e),delete this._cache[e]},1e3*this._ttl)}}(60,100);function gt(e){return new Promise(t=>{setTimeout(t,e)})}async function vt(e,t){At.info("precache old prices into memory for %s...",e);let n=parseInt(Date.now()/1e3),r=0,a=1e4,i=0;for(;r<100;){try{const r=await Bt({before:n,chainId:e,entitiesKey:t});if(0===r.length){At.info("All old prices loaded for chain: %s %s",e,t);break}if(!ht(r,e,t)){At.info("putPricesIntoCache returned false for chain: %s %s. stop",e,t);break}n=r[r.length-1].timestamp-1,i=0,a=1e4}catch(n){i++,At.warn("Old prices load failed"),At.error(n),i>10&&(At.warn("too many load failures for chainId: %s %s. retry in %s seconds",e,t,a/1e3),await gt(a),a*=2),await gt(500)}r++}}process.env.DISABLE_PRICES||(vt(10,"chainlinkPrices"),vt(10,"fastPrices"));let bt=parseInt(Date.now()/1e3)-300;async function Et(e,t){At.info("Precache new prices into memory chainId: %s %s...",e,t);try{const n=bt-900,r=await Bt({after:n,chainId:e,entitiesKey:t});r.length>0&&(At.info("Loaded %s prices since %s chainId: %s %s",r.length,kt(n),e,t),ht(r,e,t)?bt=r[0].timestamp:At.warn("Prices were not saved"))}catch(n){At.warn("New prices load failed chainId: %s %s",e,t),At.error(n)}setTimeout(Et,6e4,e,t)}async function Bt({before:e,after:t,chainId:n,entitiesKey:r}={}){if(!n)throw new Error("loadPrices requires chainId");if(!r)throw new Error("loadPrices requires entitiesKey");e||(e=parseInt(Date.now()/1e3)+31536e3),t||(t=0),At.info("loadPrices %s chainId: %s before: %s, after: %s",r,n,kt(e),t&&kt(t));const a=n=>`${r}(\n      first: 1000\n      skip: ${n}\n      orderBy: timestamp\n      orderDirection: desc\n      where: {\n        timestamp_lte: ${e}\n        timestamp_gte: ${t}\n        period: any\n      }\n    ) { value, timestamp, token }\n`,i=`{\n    p0: ${a(0)}\n    p1: ${a(1e3)}\n    p2: ${a(2e3)}\n    p3: ${a(3e3)}\n    p4: ${a(4e3)}\n    p5: ${a(5e3)}\n  }`,o=Object(oe.gql)(i),s=ft,{data:l}=await s.query({query:o}),c=[...l.p0,...l.p1,...l.p2,...l.p3,...l.p4,...l.p5];return c.length&&At.debug("Loaded %s prices (%s  %s) for chain %s %s",c.length,kt(c[c.length-1].timestamp),kt(c[0].timestamp),n,r),c}function kt(e){return new Date(1e3*e).toISOString().replace("T"," ").replace(".000Z","")}function xt(e,t,n,r=!1){const a=wt(e,t,r),i=wt(e,n,!r)+1;return[e.slice(a,i),e[0][0]]}function wt(e,t,n=!0){let r,a=0,i=e.length-1;for(;a+1<i;)r=Math.floor((a+i)/2),e[r][0]<t?a=r:i=r;return n?i:a}function Ft(e,t,n=10,r="chainlink",a){var i;const o=Date.now();if("chainlink"!==r&&"fast"!==r)throw Dt(400,`Invalid preferableSource ${r}. Valid options are: chainlink, fast`);if(!new Set(["AVAX","BTC","ETH"]).has(a))throw Dt(400,"Invalid symbol "+a);n=Number(n);if(!new Set([10]).has(n))throw Dt(400,`Invalid preferableChainId ${n}. Valid options are 10`);const s=null===(i=le[n][a])||void 0===i?void 0:i.toLowerCase();if(!s||!yt.byKey[n].chainlinkPrices||!yt.byKey[n].chainlinkPrices[s])return[];const l=`${e}:${t}:${n}:${r}:${a}`,c=Ct.get(l);if(c)return At.debug("from cache"),c;const p="chainlink"===r?"chainlinkPrices":"fastPrices",d=yt.sorted[n]&&yt.sorted[n][p]&&yt.sorted[n][p][s]||[];let[m,u]=xt(d,e,t);if("fast"===r&&u>e){const t=yt.sorted[n]&&yt.sorted[n].chainlinkPrices&&yt.sorted[n].chainlinkPrices[s]||[],[r]=xt(t,e,u,!0);m=[...r,...m]}return Ct.set(l,m),At.debug("getPrices took %sms cacheKey %s",Date.now()-o,l),m}process.env.DISABLE_PRICES||(Et(10,"chainlinkPrices"),Et(10,"fastPrices"));const jt={"5m":300,"15m":900,"1h":3600,"4h":14400,"1d":86400,"1w":604800};function Tt(e){let t=Number(e.query.from)||Math.round(Date.now()/1e3)-7776e3;t=60*Math.floor(t/60);let n=Number(e.query.to)||Math.round(Date.now()/1e3);return n=60*Math.ceil(n/60),[t,n]}function Dt(e,t){const n=new Error(t);return n.code=e,n}const St=T("app");const Mt=a()();Mt.disable("x-powered-by").use(a.a.static("build\\public")).use(n(40)()).use((function(e,t,n){e.start=Date.now(),t.on("close",n=>{!function(e,t){const n=Date.now()-e.start,r=t.statusCode<400?"info":"warn";St[r]("request %s %s handled statusCode: %s in time: %sms referer: %s ip: %s",e.method,e.originalUrl,t.statusCode,n,e.get("referer"),e.ip)}(e,t)}),n()})).use((e,t,n)=>{t.set("X-Content-Type-Options","nosniff"),t.set("X-Frame-Options","DENY"),t.set("Referrer-Policy","same-origin"),n()}),Mt.get("/ping",(e,t,n)=>{t.send("ok"),n()}),function(e){e.get("/api/total_volumes",async(e,t,n)=>{const r=Object(oe.gql)('\n    {\n      volumeStats (where : {period:"total"}){\n        id\n        swap\n        mint\n        margin\n        burn\n        liquidation\n        period\n      }\n    }\n    '),a=ft,{data:i}=await a.query({query:r});try{const e=i.volumeStats[0],n={swap:parseInt(e.swap)/1e30,mint:parseInt(e.mint)/1e30,burn:parseInt(e.burn)/1e30,margin:parseInt(e.margin)/1e30,liquidation:parseInt(e.liquidation)/1e30};n.total=n.swap+n.mint+n.burn+n.margin+n.liquidation,t.set("Cache-Control","max-age=60"),t.send(n)}catch(e){return At.error(e),void n(Dt(500,e.message))}}),e.get("/api/stats",async(e,t,n)=>{try{const e=await async function(e,t="avalanche"){const n=Object(oe.gql)('{\n    totalVolumes: volumeStats(where: {period: "total"}) {\n      swap\n      mint\n      burn\n      margin\n      liquidation\n    }\n    deltaVolumes: volumeStats(\n      first:1\n      orderBy: timestamp\n      orderDirection: desc\n      where: {period: "daily"}\n    ) {\n      swap\n      mint\n      burn\n      margin\n      liquidation\n    }\n  \ttotalFees: feeStats(where: {period: "total"}) {\n      swap\n      mint\n      burn\n      margin\n      liquidation\n\t\t}\n    deltaFees: feeStats(\n      first:1\n      orderBy: timestamp\n      orderDirection: desc\n      where: {period: "daily"}\n    ) {\n      swap\n      mint\n      burn\n      margin\n      liquidation\n    }\n  }'),{data:r}=await e.query({query:n}),a=["swap","mint","burn","margin","liquidation"],i={};return console.log(r),["totalVolumes","deltaVolumes","totalFees","deltaFees"].forEach(e=>{i[e]={};let t=0;a.forEach(n=>{const a=parseInt(r[e][0][n])/1e30;console.log(a),i[e][n]=a,t+=a}),i[e].total=t}),console.log(i),i}(ft);t.set("Cache-Control","max-age=60"),t.send(e)}catch(e){return At.error(e),void n(Dt(500,e.message))}}),e.get("/api/total_volumes_delta",async(e,t,n)=>{const r=Object(oe.gql)('\n    {\n      volumeStats (first:1 orderBy: timestamp orderDirection: desc where : {period:"daily"}){\n        id\n        swap\n        mint\n        margin\n        burn\n        liquidation\n        period\n      }\n    }\n    '),a=ft,{data:i}=await a.query({query:r});try{const e=i.volumeStats[0],n={swap:parseInt(e.swap)/1e30,mint:parseInt(e.mint)/1e30,burn:parseInt(e.burn)/1e30,margin:parseInt(e.margin)/1e30,liquidation:parseInt(e.liquidation)/1e30};n.total=n.swap+n.mint+n.burn+n.margin+n.liquidation,t.set("Cache-Control","max-age=60"),t.send(n)}catch(e){return At.error(e),void n(Dt(500,e.message))}}),e.get("/api/earn/:account",async(e,t,n)=>{const r=e.query.chain||"avalanche",a=new Set(["avalanche"]);if(a.has(r))try{const n=await be(r,e.params.account);t.send(n)}catch(e){return At.error(e),void n(Dt(500,e.message))}else n(Dt(400,"Valid chains are: "+Array.from(a)))}),e.get("/api/mjar-supply",async(e,t)=>{const n=await d()("https://stats.masonjar.finance/api/total_supply"),r=(await n.text()).toString();t.set("Content-Type","text/plain"),t.send(ut(r))}),e.get("/api/chart/:symbol",async(e,t,n)=>{const[r,a]=Tt(e);let i;try{i=Ft(r,a,e.query.preferableChainId,e.query.preferableSource,e.params.symbol)}catch(e){return void n(e)}t.set("Cache-Control","max-age=60"),t.send(i)}),e.get("/api/candles/:symbol",async(e,t,n)=>{var r;const[a,i]=Tt(e);let o;try{o=Ft(a,i,e.query.preferableChainId,e.query.preferableSource,e.params.symbol)}catch(e){return void n(e)}const s=null===(r=e.query.period)||void 0===r?void 0:r.toLowerCase();if(!s||!jt[s])return void n(Dt(400,"Invalid period. Valid periods are "+Object.keys(jt)));const l=function(e,t){const n=jt[t];if(e.length<2)return[];const r=[],a=e[0];let i=Math.floor(a[0]/n)*n,o=a[1],s=a[0],l=o,c=o,p=o,d=o;for(let t=1;t<e.length;t++){const[a,o]=e[t],m=a-a%n;s>a?At.warn(`Invalid order prevTs: ${s} (${kt(s)}) ts: ${a} (${kt(a)})`):(i!==m&&(r.push({t:i,o:l,h:c,l:p,c:d}),l=d,c=l>d?l:d,p=l<d?l:d),d=o,c=c>o?c:o,p=p<o?p:o,i=m,s=a)}return r}(o,s);let c;o.length&&(c=o[o.length-1][0]),t.set("Cache-Control","max-age=60"),t.send({prices:l,period:s,updatedAt:c})});const t=((e,t)=>e[t]&&e[t].css?e[t].css.map(e=>`<link rel="stylesheet" href="${e}">`).join(""):"")(mt,"client"),n=((e,t,n="")=>e[t]&&e[t].js?e[t].js.map(e=>`<script src="${e}"${n}><\/script>`).join(""):"")(mt,"client"," defer crossorigin");e.get("/*",(e,r,a)=>{if(r.headersSent)return void a();const i=Object(c.renderToString)(dt(l.StaticRouter,{context:{},location:e.url},dt(pt,null)));r.set("Content-Type","text/html"),r.status(200).send(`<!doctype html>\n          <html lang="">\n          <head>\n              <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n              <meta charset="utf-8" />\n              <title>Mason Jar Statistics</title>\n              <meta name="viewport" content="width=device-width, initial-scale=1">\n              <link rel="icon" type="image/png" href="/favicon.png" />\n              ${t}\n          </head>\n          <body>\n              <div id="root">${i}</div>\n              ${n}\n          </body>\n      </html>`),a()}),e.use("/api",(function(e,t,n,r){n.set("Content-Type","text/plain");const a=Number(e.code)||500;let i="";400===e.code&&(i=e.message),n.status(a),n.send(i)}))}(Mt);t.default=Mt}]);
//# sourceMappingURL=server.js.map